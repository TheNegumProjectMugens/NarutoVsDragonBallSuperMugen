;---------------- Specials Moves -----------------------------------------------
;===============================================================================
;------------------------------------------------------------------------------
;Codazo
[Statedef 1500]
type  = S
movetype = A
physics = S
velset = 0,0
anim  = 1500
ctrl  = 0
poweradd = 80
juggle = 2
facep2 = 1
hitdefpersist = 0
movehitpersist = 0
hitcountpersist = 1
sprpriority = 2

[State 105: Areia]
type = Explod
trigger1 = time = 0
anim = 7102
id = 7102
pos = 15,floor(-pos y)
postype = p1
facing = 1
vfacing = 1
vel = 0,0
accel = 0,0
scale  = 0.6,0.4
ownpal = 1
ontop = 1
sprpriority = 3
removetime = -2

[State 1500]
type = veladd
trigger1 = animelem = 1
x = 15

[State 1510]
type = velset
trigger1 = animelem = 2
x = 6.5

[State 1500]
type   = Explod
trigger1   = animelem = 2
anim   = 6038
ID   = 6038
pos   = 55,-45
postype   = p1
facing   = 1
vfacing   = 1
bindtime   = -1
vel   = 3,0
accel   = 0,0
random   = 0,0
removetime   = -2
supermove   = 0
pausemovetime  = 0
scale   = 0.25, 0.25
sprpriority   = 5
ontop   = 0
shadow   = 0,0,0
ownpal   = 1
removeongethit = 1

[State 1500]
type = playsnd
trigger1 = time = 0
value = s2,37

[State 0]
type = AfterImage
trigger1 = Time = 0
time = 2
trans = add1
TimeGap = 2
FrameGap = 2
length = 6
PalBright = 0, 0, 0
PalContrast = 128,128,128
PalAdd = 0, 0, 0
PalMul = 1, 1, 1

[State 0, AfterImageTime]
type = AfterImageTime
trigger1 = movetype = A
time = 2

[State 1500]
type  = PlaySND
trigger1 = animelem = 2
value  = S0,2

[State 1500]
type  = Hitdef
trigger1 = animelem = 2
attr  = S, SA
hitflag   = MAF
animtype  = low
guardflag  = MA
priority  = 2, Hit
damage   = 60,3
pausetime= ifelse(var(56)=1,13,12),ifelse(var(56)=1,14,13)
guard.pausetime   = 9,14
numhits  = 1  
sparkno = -1
guard.sparkno   = -1
sparkxy = var(52):=55,var(53):=-42
hitsound  = S1,1
guardsound = s1, 6; = s1, 6
ground.type   = low
air.type  = Low
ground.slidetime = 10
ground.hittime   = 20
air.hittime   = 10
ground.velocity   = -4
guard.velocity   = -3
air.velocity   = -3.5,-3.7
airguard.velocity = -3.5,-3.7
ground.cornerpush.veloff = -3.5
air.cornerpush.veloff = -6
id  = 200
getpower = 20,10
givepower = 10,20
envshake.time  = 7
envshake.ampl  = -2
getpower= ifelse(p2movetype=H,80,40),40
givepower = 40,40

[State 0]
type = VarSet
trigger1 = !time
v = 55
value = 0

[State 0]
type = VarSet
triggerall = var(55)=0 && time >= 1 && power >=1000
trigger1 = (command = "Amazing-Fire")
v = 55
value = 3300

[State 0]
type = VarSet
triggerall = var(55)=0 && time >= 1 && power>=3000
trigger1 = (command = "Berserker Fury")
v = 55
value = 3600

[State 0]
type = VarSet
triggerall = var(55)=0 && time >= 1 && power >=500
trigger1 = (command = "ShoryuKen-Ex")
v = 55
value = 1620

[State 0]
type = VarSet
triggerall = var(55)=0 && time >= 1
trigger1 = (command = "ShoryuKen-Débil")
v = 55
value = 1600

[State 0]
type = VarSet
triggerall = var(55)=0 && time >= 1
trigger1 = (command = "ShoryuKen-Medio")
v = 55
value = 1610

[State 0]
type = VarSet
triggerall = var(55)=0 && time >= 1
trigger1 = command = "Fukushahado" && power >= 1000
v = 55
value = 3100

[State 0]
type = VarSet
triggerall = var(55)=0 && time >= 1
trigger1 = command = "Big-Bang-Attack" && power >= 1000
v = 55
value = 3550

[State 0]
type = VarSet
triggerall = var(55)=0 && time >= 1
trigger1 = command = "RenzokuKikoHa" && power >= 2000
v = 55
value = 3400

[State 0]
type = VarSet
triggerall = var(55)=0 && time >= 1 && power >=500
trigger1 = (command = "Knee-Smash-Ex")
v = 55
value = 1720

[State 0]
type = VarSet
triggerall = var(55)=0 && time >= 1
trigger1 = (command = "Knee-Smash-Debil")
v = 55
value = 1700

[State 0]
type = VarSet
triggerall = var(55)=0 && time >= 1
trigger1 = (command = "Knee-Smash-Medio")
v = 55
value = 1710

[State 0]
type = VarSet
triggerall = var(55)=0 && time >= 1 && power >=500
trigger1 = command = "Burn-Knuckle"
v = 55
value = 1301

[State 0]
type = VarSet
triggerall = var(55)=0 && time >= 1
trigger1 = (command = "codazo2")
v = 55
value = 1512

[State 0]
type = VarSet
triggerall = var(55)=0 && time >= 8
trigger1 = (command = "codazo")
v = 55
value = 1501

[State 0]
type = VarSet
triggerall = var(55)=0 && time >= 1
trigger1 = command = "Atomic-Blast" && power >= 400
v = 55
value = 2300

[State 0]
type = VarSet
triggerall = var(55)=0 && time >= 1
trigger1 = (command = "Shyougeki Ha") && power >= 400
v = 55
value = 2200

[State 0]
type = VarSet
triggerall = var(55)=0 && time >= 1
trigger1 = (command = "Fire Balls") && power >= 150
v = 55
value = 2000

[State 0]
type = VarSet
triggerall = var(55)=0 && time >= 1
trigger1 = (command = "Crazy-Ball") && power >= 100
v = 55
value = 2100

[State 0]
type = ChangeState
triggerall = var(55) != 0 && movecontact
trigger1 = Animelem = 2, >= 10
value = var(55)

[State 1500]
type  = Changestate
trigger1 = animtime = 0
value  = 0
ctrl  = 1
;-------------------------------------------------------------------------------
;Pina
[Statedef 1501]
type  = S
movetype = A
physics = N
anim = 1501
velset = 3,0
ctrl = 0
poweradd = 80
juggle = 2
facep2 = 1
sprpriority = 2

[State 0]
type = AfterImage
trigger1 = Time = 0
time = 2
trans = add1
TimeGap = 2
FrameGap = 2
length = 6
PalBright = 0, 0, 0
PalContrast = 128,128,128
PalAdd = 0, 0, 0
PalMul = 1, 1, 1

[State 0, AfterImageTime]
type = AfterImageTime
trigger1 = movetype = A
time = 2

[State 702]
type = playsnd
trigger1 = time = 0
value = s2,37

[State 702]
type = playsnd
trigger1 = animelem = 2
value = s0,2

[State 702]
type = velset
trigger1 = animelem = 1
x = 2.5

[State 702]
type = velset
trigger1 = animelemtime(3) = 8
x = 0

[State 702: HitDef]
type = HitDef
trigger1 = (AnimElem = 3)
attr = S, SA
hitflag = MAF
guardflag = M
animtype = high
air.animtype = Back
priority = 5, Hit
damage = 65,4
pausetime= ifelse(var(56)=1,13,12),ifelse(var(56)=1,14,13)
sparkno = -1
guard.sparkno  = -1
sparkxy = var(52):=40,var(53):=-65
hitsound = S1,2
guardsound = s1, 6; = S1, 5
ground.type = high
air.type = Trip
ground.slidetime = 25
ground.hittime = 35
air.hittime = 40
yaccel = 0.45
ground.velocity = -2.5,-5.5
air.velocity = -2.5,-2.5
ground.cornerpush.veloff = -2.5
fall = 1
fall.recover = 1
fall.recovertime = 120
;air.fall = 1
;down.velocity = -1,-4
id  = 1020
getpower = 40
givepower = 40
persistent = 0
envshake.time = 8
envshake.ampl = 3
getpower= ifelse(p2movetype=H,80,40),40
givepower = 40,40

[State 0]
type = VarSet
trigger1 = !time
v = 55
value = 0

[State 0]
type = VarSet
triggerall = var(55)=0 && time >= 1 && power >= 1000
trigger1 = (command = "Amazing-Fire")
v = 55
value = 3300

[State 0]
type = VarSet
triggerall = var(55)=0 && time >= 1 && power >= 3000
trigger1 = (command = "Berserker Fury")
v = 55
value = 3600

[State 0]
type = VarSet
triggerall = var(55)=0 && time >= 1 && power >=500
trigger1 = (command = "ShoryuKen-Ex")
v = 55
value = 1620

[State 0]
type = VarSet
triggerall = var(55)=0 && time >= 1
trigger1 = (command = "ShoryuKen-Débil")
v = 55
value = 1600

[State 0]
type = VarSet
triggerall = var(55)=0 && time >= 1
trigger1 = (command = "ShoryuKen-Medio")
v = 55
value = 1610

[State 0]
type = VarSet
triggerall = var(55)=0 && time >= 1
trigger1 = command = "Fukushahado" && power >= 1000
v = 55
value = 3100

[State 0]
type = VarSet
triggerall = var(55)=0 && time >= 1
trigger1 = command = "Big-Bang-Attack" && power >= 1000
v = 55
value = 3550

[State 0]
type = VarSet
triggerall = var(55)=0 && time >= 1
trigger1 = command = "RenzokuKikoHa" && power >= 2000
v = 55
value = 3400

[State 0]
type = VarSet
triggerall = var(55)=0 && time >= 1 && power >=500
trigger1 = (command = "Knee-Smash-Ex")
v = 55
value = 1720

[State 0]
type = VarSet
triggerall = var(55)=0 && time >= 1
trigger1 = (command = "Knee-Smash-Debil")
v = 55
value = 1700

[State 0]
type = VarSet
triggerall = var(55)=0 && time >= 1
trigger1 = (command = "Knee-Smash-Medio")
v = 55
value = 1710

[State 0]
type = VarSet
triggerall = var(55)=0 && time >= 1 && power >=500
trigger1 = command = "Burn-Knuckle"
v = 55
value = 1301

[State 0]
type = VarSet
triggerall = var(55)=0 && time >= 1
trigger1 = (command = "codazo2")
v = 55
value = 1513

[State 0]
type = VarSet
triggerall = var(55)=0 && time >= 1
trigger1 = (command = "Shyougeki Ha") && power >= 400
v = 55
value = 2200

[State 0]
type = VarSet
triggerall = var(55)=0 && time >= 1
trigger1 = (command = "Crazy-Ball") && power >= 100
v = 55
value = 2100

[State 0]
type = VarSet
triggerall = var(55)=0 && time >= 1
trigger1 = (command = "codazo")
v = 55
value = 1502

[State 0]
type = VarSet
triggerall = var(55)=0 && time >= 1
trigger1 = command = "Atomic-Blast" && power >= 400
v = 55
value = 2300

[State 0]
type = VarSet
triggerall = var(55)=0 && time >= 1
trigger1 = (command = "Fire Balls") && power >= 150
v = 55
value = 2000

[State 0]
type = ChangeState
triggerall = var(55) != 0 && movecontact
trigger1 = Animelem = 3, >= 8
value = var(55)

[State 0]
type = VarSet
trigger1 = Animelem = 3, = 9
v = 55
value = 0

[State 702]
type  = Changestate
trigger1 = animtime = 0
value  = 0
ctrl  = 1
;-------------------------------------------------------------------------------
;Remate
[StateDef 1502]
type = A
movetype= A
physics = A
juggle = 1
velset = 0,0
ctrl = 0
anim = 1502
poweradd = 80
sprpriority = 2
juggle = 4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = !time
value = S3,13+random%8
channel = 0

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
id = -1

[State 0, VelSet]
type = VelSet
trigger1 = !time
x = 5
y = -6.75

[State 0, VelAdd]
type = VelAdd
trigger1 = time > 0
x = 0.06

[State 1502, 1]
type = HitDef
trigger1 = AnimElem = 4
attr = S, SA
damage = 70,3
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime= ifelse(var(56)=1,15,13),ifelse(var(56)=1,16,13)
sparkno = -1
sparkxy = var(52):=20,var(53):=-10
hitsound = S1,2
guard.sparkno = -1; -1
guardsound = s1, 6; = S1, 5
ground.type = High
ground.slidetime = 5
ground.hittime = 12
ground.velocity = 1.5,2
airguard.velocity = 2,-.8
air.type = High
air.velocity = 1.2,1.6
air.hittime = 12
down.bounce =0
fall= 1
fall.recover = 1
fall.recovertime = 120
envshake.time = 12
envshake.ampl = 6
fall.envshake = 1
fall.envshake.time = 10
fall.envshake.ampl = 4
getpower= ifelse(p2movetype=H,80,40),40
givepower = 40,40

[State 0, ChangeState]
type = ChangeState
trigger1 = time >= 7
trigger1= vel y > 0
trigger1= pos y > -vel y
value = 52
ctrl = 1
;-------------------------------------------------------------------------------
;Codazo 2-Dash
[Statedef 1510]
type  = S
movetype = A
physics = S
velset = 0,0
anim  = 1510
ctrl  = 0
poweradd = 80
facep2 = 1
hitdefpersist = 1
movehitpersist = 1
hitcountpersist = 0
sprpriority = 2

[State 105: Areia]
type = Explod
trigger1 = time = 0
anim = 7102
id = 7102
pos = 15,floor(-pos y)
postype = p1
facing = 1
vfacing = 1
vel = 0,0
accel = 0,0
scale  = 0.6,0.4
ownpal = 1
ontop = 1
sprpriority = 3
removetime = -2

[State 1510]
type = playsnd
trigger1 = time = 0
value = s2,37

[State 1510]
type = veladd
trigger1 = animelem = 1
x = 22.5

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 1510]
type = velset
trigger1 = animelem = 2
x = 14

[State 1510]
type   = null;Explod
trigger1   = animelem = 2
anim   = 1261
ID   = 1261
pos   = 47,-44
postype   = p1
facing   = 1
vfacing   = 1
bindtime   = 48
vel   = 3,0
accel   = 0,0
random   = 0,0
removetime   = 15
supermove   = 0
pausemovetime  = 0
scale   = 0.45, 0.75
sprpriority   = 5
ontop   = 0
shadow   = 0,0,0
ownpal   = 1
removeongethit = 1

[State 1510]
type = null
trigger1 = time = 0
value = 4,5

[State 0]
type = AfterImage
trigger1 = Time = 0
time = 2
trans = add1
TimeGap = 2
FrameGap = 2
length = 6
PalBright = 0, 0, 0
PalContrast = 128,128,128
PalAdd = 0, 0, 0
PalMul = 1, 1, 1

[State 0, AfterImageTime]
type = AfterImageTime
trigger1 = movetype = A
time = 2
;ignorehitpause = 
;persistent = 

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0
movecamera = 1,1
;ignorehitpause = 
;persistent = 

[State 1510]
type  = PlaySND
trigger1 = animelem = 2
value  = S0,0

[State 1510]
type  = Changestate
trigger1 = animtime = 0
value  = 1511
ctrl  = 0
;-------------------------------------------------------------------------------
;Codazo 2-Golpe
[Statedef 1511]
type  = S
movetype = A
physics = S
velset = 0,0
anim  = 1511
ctrl  = 0
poweradd = 0
facep2 = 0
hitdefpersist = 0
movehitpersist = 0
hitcountpersist = 1
sprpriority = 2
juggle = 2

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0
movecamera = 1,1

[State 0, Turn]
type = Turn
trigger1 = !time

[State 0, PlayerPush]
type = PlayerPush
trigger1 = animelem = 1
value = 0

[State 0, PlayerPush]
type = PlayerPush
trigger1 = animelem = 2
value = 1

[State 1510]
type = playsnd
trigger1 = time = 0
value = s2,37

[State 1510]
type = velset
trigger1 = time = 0
x = 0

[State 1510]
type = velset
trigger1 = animelem = 2
x = 15

[State 1510]
type   = Explod
trigger1   = animelem = 2
anim   = 6038
ID   = 6038
pos   = 35,-45
postype   = p1
facing   = 1
vfacing   = 1
bindtime   = -1
vel   = 3,0
accel   = 0,0
random   = 0,0
removetime   = -2
supermove   = 0
pausemovetime  = 0
scale   = 0.3, 0.4
sprpriority   = 5
ontop   = 0
shadow   = 0,0,0
ownpal   = 1
removeongethit = 1

[State 0]
type = AfterImage
trigger1 = Time = 0
time = 2
trans = add1
TimeGap = 2
FrameGap = 2
length = 6
PalBright = 0, 0, 0
PalContrast = 128,128,128
PalAdd = 0, 0, 0
PalMul = 1, 1, 1

[State 0, AfterImageTime]
type = AfterImageTime
trigger1 = movetype = A
time = 2

[State 1510]
type  = PlaySND
trigger1 = animelem = 2
value  = S0,2

[State 1510]
type  = Hitdef
trigger1 = animelem = 2
attr  = S, SA
hitflag   = MAF
animtype  = medium
guardflag  = MA
priority  = 2, Hit
damage   = 70,4
pausetime= ifelse(var(56)=1,13,12),ifelse(var(56)=1,15,13)
numhits  = 1  
sparkno = -1
guard.sparkno   = -1
sparkxy   = var(52):=38,var(53):=-48
hitsound  = S1,2
guardsound = s1, 6; = s1, 6
ground.type   = low
air.type  = Low
ground.slidetime = 10
ground.hittime   = 25
air.hittime   = 10
ground.velocity   = -5
guard.velocity   = -4
air.velocity   = -4.7,-4.7
airguard.velocity = -4.6,-4.9
ground.cornerpush.veloff = -6.5
air.cornerpush.veloff = -7
id  = 200
getpower= ifelse(p2movetype=H,80,40),40
givepower = 40,40
;envshake.time  = 5
;envshake.freq  = 140
;envshake.ampl  = -2
;envshake.phase  = 90

[State 0]
type = VarSet
trigger1 = !time
v = 55
value = 0

[State 0]
type = VarSet
triggerall = var(55)=0 && time >= 1 && power >= 1000
trigger1 = (command = "Amazing-Fire")
v = 55
value = 3300

[State 0]
type = VarSet
triggerall = var(55)=0 && time >= 1 && power>=3000
trigger1 = (command = "Berserker Fury")
v = 55
value = 3600

[State 0]
type = VarSet
triggerall = var(55)=0 && time >= 1 && power >=500
trigger1 = (command = "ShoryuKen-Ex")
v = 55
value = 1620

[State 0]
type = VarSet
triggerall = var(55)=0 && time >= 1
trigger1 = (command = "ShoryuKen-Débil")
v = 55
value = 1600

[State 0]
type = VarSet
triggerall = var(55)=0 && time >= 1
trigger1 = (command = "ShoryuKen-Medio")
v = 55
value = 1610

[State 0]
type = VarSet
triggerall = var(55)=0 && time >= 1 && power >=500
trigger1 = command = "Burn-Knuckle"
v = 55
value = 1301

[State 0]
type = VarSet
triggerall = var(55)=0 && time >= 1
trigger1 = command = "Fukushahado" && power >= 1000
v = 55
value = 3100

[State 0]
type = VarSet
triggerall = var(55)=0 && time >= 1 && power >=500
trigger1 = (command = "Knee-Smash-Ex")
v = 55
value = 1720

[State 0]
type = VarSet
triggerall = var(55)=0 && time >= 1
trigger1 = (command = "Knee-Smash-Debil")
v = 55
value = 1700

[State 0]
type = VarSet
triggerall = var(55)=0 && time >= 1
trigger1 = (command = "Knee-Smash-Medio")
v = 55
value = 1710

[State 0]
type = VarSet
triggerall = var(55)=0 && time >= 1
trigger1 = (command = "codazo2")
v = 55
value = 1512

[State 0]
type = VarSet
triggerall = var(55)=0 && time >= 1
trigger1 = (command = "codazo")
v = 55
value = 1501

[State 0]
type = VarSet
triggerall = var(55)=0 && time >= 1
trigger1 = command = "Atomic-Blast" && power >= 400
v = 55
value = 2300

[State 0]
type = VarSet
triggerall = var(55)=0 && time >= 1
trigger1 = (command = "Shyougeki Ha") && power >= 400
v = 55
value = 2200

[State 0]
type = VarSet
triggerall = var(55)=0 && time >= 1
trigger1 = (command = "Crazy-Ball") && power >= 100
v = 55
value = 2100

[State 0]
type = VarSet
triggerall = var(55)=0 && time >= 1
trigger1 = (command = "Fire Balls") && power >= 150
v = 55
value = 2000

[State 0]
type = ChangeState
triggerall = var(55) != 0 && movecontact
trigger1 = Animelem = 2, >= 9
value = var(55)

[State 1510]
type  = Changestate
trigger1 = animtime = 0
value  = 0
ctrl  = 1
;-------------------------------------------------------------------------------
;Golpe al páncreas
[StateDef 1512]
type = S
movetype= A
physics = S
juggle = 1
velset = 0,0
ctrl = 0
anim = 1512
poweradd = 80
sprpriority = 2
juggle = 8
facep2 = 1

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = 4

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
id = 1509

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S0,2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S3,37;+random%8
channel = 0

[State 1512, 1]
type = HitDef
trigger1 = AnimElem = 2
attr = S, SP
damage = 75,7
animtype = medium
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime= ifelse(var(56)=1,13,12),ifelse(var(56)=1,14,13)
sparkno = -1
guard.sparkno = -1
sparkxy =var(52):=40,var(53):=-35
hitsound = s2,15
guardsound = s1, 6; = -1
ground.type = High
ground.slidetime = 20
ground.hittime = 40
ground.velocity = -2
airguard.velocity = -2.5,-1
air.type = High
air.velocity = -2.5,-1
air.hittime = 3
getpower= ifelse(p2movetype=H,80,40),40
givepower = 40,40

[State 0, Explod]
type = Explod
trigger1 = movecontact && numenemy
anim = 8110
ID = 7999
pos = 40,-35
postype = p1 ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
scale = 0.5,0.5
sprpriority = 3
ontop = 0
shadow = 0,0,0
ownpal = 1
persistent = 0
IGNOREHITPAUSE = 1

[State 0]
type = VarSet
trigger1 = !time
v = 55
value = 0

[State 0]
type = VarSet
triggerall = var(55)=0 && time >= 1 && power>=1000
trigger1 = (command = "Amazing-Fire")
v = 55
value = 3300

[State 0]
type = VarSet
triggerall = var(55)=0 && time >= 1 && power>=3000
trigger1 = (command = "Berserker Fury")
v = 55
value = 3600

[State 0]
type = VarSet
triggerall = var(55)=0 && time >= 1 && power >=500
trigger1 = (command = "ShoryuKen-Ex")
v = 55
value = 1620

[State 0]
type = VarSet
triggerall = var(55)=0 && time >= 1
trigger1 = (command = "ShoryuKen-Débil")
v = 55
value = 1600

[State 0]
type = VarSet
triggerall = var(55)=0 && time >= 1
trigger1 = (command = "ShoryuKen-Medio")
v = 55
value = 1610

[State 0]
type = VarSet
triggerall = var(55)=0 && time >= 1
trigger1 = command = "Fukushahado" && power >= 1000
v = 55
value = 3100

[State 0]
type = VarSet
triggerall = var(55)=0 && time >= 1
trigger1 = command = "Big-Bang-Attack" && power >= 1000
v = 55
value = 3550

[State 0]
type = VarSet
triggerall = var(55)=0 && time >= 1
trigger1 = command = "RenzokuKikoHa" && power >= 2000
v = 55
value = 3400

[State 0]
type = VarSet
triggerall = var(55)=0 && time >= 1 && power >=500
trigger1 = command = "Burn-Knuckle"
v = 55
value = 1301

[State 0]
type = VarSet
triggerall = var(55)=0 && time >= 1 && power >=500
trigger1 = (command = "Knee-Smash-Ex")
v = 55
value = 1720

[State 0]
type = VarSet
triggerall = var(55)=0 && time >= 1
trigger1 = (command = "Knee-Smash-Debil")
v = 55
value = 1700

[State 0]
type = VarSet
triggerall = var(55)=0 && time >= 1
trigger1 = (command = "Knee-Smash-Medio")
v = 55
value = 1710

[State 0]
type = VarSet
triggerall = var(55)=0 && time >= 1
trigger1 = (command = "codazo2")
v = 55
value = 1513

[State 0]
type = VarSet
triggerall = var(55)=0 && time >= 1
trigger1 = (command = "codazo")
v = 55
value = 1502

[State 0]
type = VarSet
triggerall = var(55)=0 && time >= 1
trigger1 = command = "Atomic-Blast" && power >= 400
v = 55
value = 2300

[State 0]
type = VarSet
triggerall = var(55)=0 && time >= 1
trigger1 = (command = "Shyougeki Ha") && power >= 400
v = 55
value = 2200

[State 0]
type = VarSet
triggerall = var(55)=0 && time >= 1
trigger1 = (command = "Fire Balls") && power >= 150
v = 55
value = 2000

[State 0]
type = VarSet
triggerall = var(55)=0 && time >= 1
trigger1 = (command = "Crazy-Ball") && power >= 100
v = 55
value = 2100

[State 0]
type = VarSet
triggerall = var(55)=0 && time >= 1
trigger1 = command = "Burn-Knuckle"
v = 55
value = 1301

[State 0]
type = ChangeState
triggerall = var(55) != 0 && movecontact
trigger1 = Animelem = 2, >= 10
value = var(55)

[State 1512, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-------------------------------------------------------------------------------
;Flashhhh
[StateDef 1513]
type = S
movetype= A
physics = S
juggle = 1
velset = 0,0
ctrl = 0
anim = 1513
poweradd = 80
sprpriority = 2
juggle = 8
facep2 = 1

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 1
trigger2 = animelem = 2
x = 5.5

[State 0, VelMul]
type = VelMul
trigger1 = animelem = 3, = 0
x = .5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S3,38
channel = 0

[State 1512, 1]
type = HitDef
trigger1 = animelem = 2
attr = S, SA
damage = 80,8
animtype = diagup
air.animtype = diagup
fall.animtype = diagup
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime= ifelse(var(56)=1,15,14),ifelse(var(56)=1,16,15)
sparkno = -1
guard.sparkno = -1
sparkxy = var(52):=20,var(53):=-73
hitsound = s1,2
guardsound = s1, 6; = -1
ground.type = High
ground.slidetime = 20
ground.hittime =20
ground.velocity = -5,-5
airguard.velocity = -5,-5
air.type = High
air.velocity = -5,-5
air.hittime = 20
fall = 1
fall.recover = 1
fall.recovertime = 120
getpower= ifelse(p2movetype=H,80,40),40
givepower = 40,40

[State 1512, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;------------------------------------------------------------------------------
;Knee-Smash-Debil
[Statedef 1700]
type = S
movetype = A
physics = S
velset = 0,0
anim = 1700
ctrl = 0
poweradd = 80
hitdefpersist = 0
movehitpersist = 0
hitcountpersist = 1
sprpriority = 2
juggle = ifelse(prevstateno=1501,2,8)
facep2 = 1

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = time = 4
statetype = A   ;S,A,C,L
movetype = A   ;I,A,H
physics = A   ;A,C,S,N

[State 0, PlaySnd]
type = PlaySnd
trigger1 = !time
value = S3,13+random%8
channel = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S0,4

[State 0, Helper]
type = Helper
trigger1 = time = 0
helpertype = normal ;player
name = "Polvazo"
ID = 7060
stateno = 7060
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = .5
size.yscale = .5

[State 0, VelSet]
type = VelSet
trigger1 = time = 4
x = 5
y = -5

[State 0, hitdef]
type = Hitdef
trigger1 = animelem = 2
attr = S, SA
hitflag = MAF
animtype = light
guardflag = MA
priority = 2, Hit
damage = 70,7
pausetime= ifelse(var(56)=1,14,12),ifelse(var(56)=1,15,13)
numhits = 1  
sparkno = -1
guard.sparkno = -1
sparkxy = var(52):=38,var(53):=-54
hitsound = S1,4
guardsound = s1, 6; = S1, 5
ground.type = heavy
air.type = heavy
ground.slidetime = 10
ground.hittime = 15
air.hittime = 10
ground.velocity = -2,-8
guard.velocity   = -2
air.velocity = -2,-8
airguard.velocity= -2,-8
ground.cornerpush.veloff = -8
air.cornerpush.veloff = -2
getpower= ifelse(p2movetype=H,80,40),40
givepower = 40,40
fall = 1
air.fall = 1
fall.recover = 1
fall.recovertime = 120
;envshake.time = 5
;envshake.freq  = 140
;envshake.ampl = -2
;envshake.phase = 90

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time =0
value = S0,6

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = animelem = 3
statetype = A   ;S,A,C,L
movetype = I   ;I,A,H
physics = A   ;A,C,S,N

[State 0]
type = ChangeState
trigger1 = time > 16
trigger1= vel y > 0
trigger1= pos y > -vel y
value = 52
ctrl = 1
;------------------------------------------------------------------------------
;kick-Smash-Medio
[Statedef 1710]
type  = S
movetype = A
physics = S
velset = 0,0
anim  = 790
ctrl  = 0
poweradd = 80
facep2 = 1
hitdefpersist = 0
movehitpersist = 0
hitcountpersist = 0
sprpriority = 2
juggle = ifelse(prevstateno=1511,2,7)

[State 0, Helper]
type = Helper
trigger1 = animelem = 2
helpertype = normal ;player
name = "Polvazo"
ID = 7060
stateno = 7060
pos = 15,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = .5
size.yscale = .5

[State 790]
type = veladd
trigger1 = animelem = 2
x = 5
y = -6

[State 790]
type = playsnd
trigger1 = animelem = 3
value = s0,5
channel = 0

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = animelem = 2
statetype = A   ;S,A,C,L
movetype = A   ;I,A,H
physics = A

[State 790]
type = playsnd
trigger1 = animelem = 2
value = s2,3

[State 0]
type = AfterImage
trigger1 = Time = 0
time = 20
trans = add1
TimeGap = 2
FrameGap = 2
length = 4
PalBright = 0, 0, 0
PalContrast = 128,128,128
PalAdd = 0, 0, 0
PalMul = 1, 1, 1

[State 790]
type  = Hitdef
trigger1 = animelem = 3
attr  = S, SA
hitflag   = MAF
animtype  = Heavy
guardflag  = MA
priority  = 2, Hit
damage   = 95,9
pausetime= ifelse(var(56)=1,15,14),ifelse(var(56)=1,16,15)
numhits  = 1
sparkno = -1
guard.sparkno   = -1
sparkxy   = var(52):=50,var(53):=-45
hitsound  = S1,2
guardsound = s1, 6;  = S1,5
ground.type   = High
air.type  = Low
ground.slidetime = 10
ground.hittime   = 30
air.hittime   = 10
ground.velocity   = -4.5,-5
guard.velocity   = -4.5
air.velocity   = -4.5,-6
airguard.velocity = -4.5,-5
ground.cornerpush.veloff = -4.5
air.cornerpush.veloff = -4.5
fall = 1
air.fall = 1
fall.recover = 1
fall.recovertime = 120
getpower= ifelse(p2movetype=H,80,40),40
givepower = 40,40
;envshake.time  = 5
;envshake.freq  = 140
;envshake.ampl  = -2
;envshake.phase  = 90
id = 17101

[State 790]
type  = Changestate
trigger1 = animtime = 0
value  = 50
ctrl  = 1
;------------------------------------------------------------------------------
;Kick-Smash-Ex
[Statedef 1720]
type = A
movetype = A
physics = A
velset = 0,0
anim = 1720
ctrl = 0
poweradd = -500
facep2 = 1
hitdefpersist = 0
movehitpersist = 0
hitcountpersist = 0
sprpriority = 2
juggle = ifelse(prevstateno=640,2,7)

[State 790, 1]
type = velset
trigger1 = time = 1
x = 8
y = -6.5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S0,6

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = time = 1
statetype = A   ;S,A,C,L
movetype = A   ;I,A,H
physics = A   ;A,C,S,N

[State 4000]
type = Helper
trigger1 = ANIMELEM = 3
helpertype = normal
name = "Explod"
id = 1641
stateno = 1641
ownpal = 1
ctrl = 0
sprpriority = 3

[State 0, Helper]
type = Helper
trigger1 = time = 0
helpertype = normal ;player
name = "Polvazo"
ID = 7060
stateno = 7060
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = .5
size.yscale = .5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S2,3
channel = -1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S2,52

[State 11000, AfterImage]
type = AfterImage
trigger1 = !Time
time = 2
timegap = 1
framegap = 1
length = 5
palbright = 30,30,0
palcontrast = 128,128,128
paladd = -16,-16,-16
palmul = 1.1,1,.5
trans = add
ignorehitpause = 1

[State 11000, AfterImageTime]
type = AfterImageTime
trigger1 = MoveType = A
time = 2

[State 11000, PalFx]
type = PalFx
trigger1 = MoveType = A && var(56)!=1
time = 1
add = 30,30,0
mul = 300 ,300 , 200
ignorehitpause = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = !time
value = S3,6
channel = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S2,3
channel = -1

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 1
x = 3.75
y = -2.5

[State 909, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S0, 5
volume = 255

[State 0, hitdef]
type = Hitdef
triggerall = animelem = 3,>=0 && animelem = 3,<=12
trigger1 = timemod = 2,1
attr = A, SA
hitflag = MAF
animtype = medium
guardflag = MA
priority = 2, Hit
damage = 45,4
pausetime= ifelse(var(56)=1,12,11),ifelse(var(56)=1,10,10)
numhits = 1  
sparkno = -1
guard.sparkno = -1
sparkxy = var(52):=30,var(53):=-55
hitsound = S1, 7
guardsound = s1, 6
ground.type = heavy
air.type = heavy
ground.slidetime = 10
ground.hittime = 15
air.hittime = 15
ground.velocity = -4.5,-4
guard.velocity   = -5
air.velocity = -4.5,-4
airguard.velocity= -4,-3
ground.cornerpush.veloff = -4
air.cornerpush.veloff = -4
fall = 1
fall.recover = 1
fall.recovertime = 120
getpower= 0,0
givepower = 40,40
envshake.time = 16
envshake.ampl = -2
id = 654
nochainid = ifelse(hitcount>2,654,98765)

[State 0]
type = ChangeState
trigger1 = animtime = 0
value = 50
ctrl = 0
;---------------------------------------------------------------------------
;ShoryuKen-Débil
[Statedef 1600]
type  = S
movetype= A
physics = N
poweradd= 80
ctrl = 0
velset = 0,0
anim = 1600
sprpriority = 2
juggle = 5
facep2 = 1

[State 0, Explod]
type = Explod
trigger1 = animelem = 3, = 2
trigger2 = animelem = 4, = 3
trigger3 = animelem = 4, = 5
anim = 7103
ID = 7103
pos = 0,0
postype = p1 ;p2,front,back,left,right
facing = -1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
scale = 0.55,0.55
sprpriority = 3
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = animelem = 3
statetype = A
movetype = A
physics = N

[State 0, VelSet]
type = velset
trigger1 = animelem = 1 
x = 2.5;ifelse((prevstateno = [200,1999]),4,2)
y = 0

[State 0, VelSet]
type = velset
trigger1 = animelemtime(3) = 2
y = -7.75

[State 0, PlaySnd]
type = PlaySnd
trigger1 = !time
value = S3,13+random%8
channel = 0

[State 0, Helper]
type = Helper
trigger1 = animelemtime(2) = 1
helpertype = normal ;player
name = "Polvazo"
ID = 7060
stateno = 7060
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = .5
size.yscale = .5

[State 210, 1]
type = PlaySnd
trigger1 = AnimElem = 3
value = s0,7

[State 0,HitDef]
type= HitDef
trigger1= time = 0
attr = S, SA
hitflag= MAF
guardflag= M
animtype= back
priority= 5, hit
damage = 120,12
pausetime= ifelse(var(56)=1,14,15),ifelse(var(56)=1,14,16)
sparkno = -1; s7014+random%4
guard.sparkno = -1
sparkxy= var(52):=15,var(53):=-65
hitsound = S1, 2
guardsound = s1, 6
ground.type= High
air.type= high
ground.velocity = -1,-11
guard.velocity= -.5
ground.slidetime= 25
ground.hittime = 25
air.hittime= 25
air.velocity= -1.5,-9
ground.cornerpush.veloff = 0
fall = 1
fall.recover = 1
fall.recovertime = 120
air.fall = 1
air.recover = 0
yaccel = .5
envshake.time=16
envshake.freq=60
envshake.ampl=3
getpower= ifelse(p2movetype=H,80,40),40
givepower = 40,40
id = 16202

[State 220, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 1630
ctrl = 0
;---------------------------------------------------------------------------
;ShoryuKen-Medio
[Statedef 1610]
type  = S
movetype= A
physics = N
poweradd= 80
ctrl = 0
anim = 1610
sprpriority = 2
juggle = 5
facep2 = 1

[State 0, Explod]
type = Explod
trigger1 = animelem = 3, = 2
trigger2 = animelem = 4, = 3
trigger3 = animelem = 4, = 5
anim = 7103
ID = 7103
pos = 0,0
postype = p1 ;p2,front,back,left,right
facing = -1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
scale = 0.55,0.55
sprpriority = 3
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = animelem = 3
statetype = A   ;S,A,C,L
movetype = A   ;I,A,H
physics = N   ;A,C,S,N
;ignorehitpause = 
;persistent = 

[State 0, VelSet]
type = velset
trigger1 = animelem = 1 
x = 3.25;ifelse((prevstateno = [200,1999]),3.5,2.5)
y = 0

[State 0, VelSet]
type = velset
trigger1 = animelemtime(3) = 2
y = -8.75

[State 0, PlaySnd]
type = PlaySnd
trigger1 = !time
value = S3,15+random%6
channel = 0

[State 0, Helper]
type = Helper
trigger1 = animelemtime(2) = 1
helpertype = normal ;player
name = "Polvazo"
ID = 7060
stateno = 7060
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = .5
size.yscale = .5

[State 210, 1]
type = PlaySnd
trigger1 = AnimElem = 3
value = s0,7

[State 0,HitDef]
type= HitDef
trigger1 = Animelem = 2
trigger2 = Animelem = 3
attr = S, SA
hitflag= MAF
guardflag= M
animtype= hard
air.animtype= hard
priority= 5, Hit
damage = 85,8
pausetime= ifelse(var(56)=1,13,11),ifelse(var(56)=1,14,12)
sparkno = -1
guard.sparkno = -1
sparkxy= var(52):=20,var(53):=-50
hitsound = S1, 1
guardsound = s1, 6
ground.type= low
air.type= low
ground.velocity = 0.5,-4.5
guard.velocity= 0.5
ground.slidetime= 15
ground.hittime = 15
air.hittime= 15
air.velocity= 0.5,-4.25
airguard.velocity= 0.5,-4.25
ground.cornerpush.veloff = 0
fall = 1
fall.recover = 1
fall.recovertime = 120
air.fall = 1
air.recover = 0
yaccel = .5
envshake.time=16
envshake.freq=60
envshake.ampl=3
getpower= ifelse(p2movetype=H,40,20),20
givepower = 20,20
id = 16201
nochainid = 16201

[State 0,HitDef]
type= HitDef
trigger1= Animelem = 4
attr = S, SA
hitflag= MAF
guardflag= M
animtype= back
priority= 5, hit
damage = 75,3
pausetime= ifelse(var(56)=1,14,15),ifelse(var(56)=1,14,16)
sparkno = -1
guard.sparkno = -1
sparkxy= var(52):=15,var(53):=-65
hitsound = S1, 2
guardsound = s1, 6
ground.type= High
air.type= high
ground.velocity = -1.5,-11.25
guard.velocity= -1
ground.slidetime= 25
ground.hittime = 25
air.hittime= 25
air.velocity= -2.1,-11
ground.cornerpush.veloff = 0
fall = 1
fall.recover = 1
fall.recovertime = 120
air.fall = 1
air.recover = 0
yaccel = .5
envshake.time=16
envshake.freq=60
envshake.ampl=3
getpower= ifelse(p2movetype=H,40,20),20
givepower = 20,20
id = 16202

[State 220, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 1630
ctrl = 0
;---------------------------------------------------------------------------
;ShoryuKen-Ex
[Statedef 1620]
type  = S
movetype= A
physics = N
poweradd= -500
ctrl = 0
anim = 1600
sprpriority = 2
juggle = 4;ifelse(numtarget,7,10)
facep2 = 1

[State 4000]
type = Helper
trigger1 = ANIMELEM = 4
helpertype = normal
name = "Explod"
id = 1640
pos = 10,-75
stateno = 1640
ownpal = 1
ctrl = 0
sprpriority = 3

[State 0, Explod]
type = Explod
trigger1 = animelem = 3, = 2
trigger2 = animelem = 4, = 3
trigger3 = animelem = 4, = 5
anim = 7103
ID = 7103
pos = 0,0
postype = p1 ;p2,front,back,left,right
facing = -1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
scale = 0.55,0.55
sprpriority = 3
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S2,52

[State 11000, AfterImage]
type = AfterImage
trigger1 = !Time
time = 2
timegap = 1
framegap = 1
length = 5
palbright = 30,30,0
palcontrast = 128,128,128
paladd = -16,-16,-16
palmul = 1.1,1,.5
trans = add
ignorehitpause = 1

[State 11000, AfterImageTime]
type = AfterImageTime
trigger1 = MoveType = A
time = 2

[State 11000, PalFx]
type = PalFx
trigger1 = MoveType = A && var(56)!=1
time = 1
add = 30,30,0
mul = 300 ,300 , 200
ignorehitpause = 1

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = animelem = 3
statetype = A   ;S,A,C,L
movetype = A   ;I,A,H
physics = N  ;A,C,S,N
;ignorehitpause = 
;persistent = 

[State 0, VelSet]
type = velset
trigger1 = animelem = 1 
x = 4
y = 0

[State 0, VelSet]
type = velset
trigger1 = animelemtime(3) >=2
y = -10

[State 0, PlaySnd]
type = PlaySnd
trigger1 = !time
value = S3,10
channel = 0

[State 0, Helper]
type = Helper
trigger1 = animelemtime(2) = 1
helpertype = normal ;player
name = "Polvazo"
ID = 7060
stateno = 7060
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = .5
size.yscale = .5

[State 210, 1]
type = PlaySnd
trigger1 = AnimElem = 3
value = s0,7

[State 0,HitDef]
type= HitDef
trigger1 = animelem = 2
trigger2 = animelem = 3
attr = S, SA
hitflag= MAF
guardflag= M
animtype= back
priority= 5, hit
damage = 45,2
pausetime= ifelse(var(56)=1,15,14),ifelse(var(56)=1,13,12)
sparkno = -1; s7014+random%4
guard.sparkno = -1
sparkxy= var(52):=15,var(53):=-65
hitsound = S1, 2
guardsound = s1, 6
ground.type= High
air.type= high
ground.velocity = 1,-9
guard.velocity= 1
ground.slidetime= 25
ground.hittime = 25
air.hittime= 25
air.velocity= 1,-8
ground.cornerpush.veloff = 0
fall = 1
fall.recover = 1
fall.recovertime = 120
air.fall = 1
air.recover = 0
yaccel = .5
envshake.time=16
envshake.freq=60
envshake.ampl=3
getpower= 0,0
givepower = 12,12
id = 16201
forcestand = 1
persistent = 0

;[State 0, TargetState]
;type = NULL;TargetState
;trigger1 = movehit && numtarget(16201)
;value = 1650
;ID = 16201
;ignorehitpause = 1

[State 0,HitDef]
type= HitDef
trigger1 = animelem = 4
attr = S, SA
hitflag= MAF
guardflag= M
animtype= Up
priority= 5, hit
damage = 45,8
pausetime= ifelse(var(56)=1,36,30),ifelse(var(56)=1,36,30)
sparkno = -1; s7014+random%4
guard.sparkno = -1
sparkxy= var(52):=15,var(53):=-65
hitsound = S1, 7
guardsound = s1, 6
ground.type= High
air.type= high
ground.velocity = -1.5,-8.5
guard.velocity= -1
air.velocity = -1.5,-8.5
ground.slidetime= 25
ground.hittime = 25
air.hittime= 25
ground.cornerpush.veloff = 0
fall = 1
fall.recover = 1
fall.recovertime = 120
air.fall = 1
air.recover = 0
yaccel = .5
envshake.time=16
envshake.freq=60
envshake.ampl=3
getpower= 0,0
givepower = 12,12
id = 16202
forcestand = 1

[State 220, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = ifelse(movehit,1621,1630)
ctrl = 0
;---------------------------------------------------------------------------
;ShoryuKen-Ex-Remate
[Statedef 1621]
type   = A
movetype= A
physics = A
juggle  = 3
poweradd = 0
ctrl = 0
anim = 1621
sprpriority = 2
FACEP2 = 1

[State 11000, AfterImage]
type = AfterImage
trigger1 = !Time
time = 2
timegap = 1
framegap = 1
length = 5
palbright = 30,30,0
palcontrast = 128,128,128
paladd = -16,-16,-16
palmul = 1.1,1,.5
trans = add
ignorehitpause = 1

[State 11000, AfterImageTime]
type = AfterImageTime
trigger1 = MoveType = A
time = 2

[State 11000, PalFx]
type = PalFx
trigger1 = MoveType = A && var(56)!=1
time = 1
add = 30,30,0
mul = 300 ,300 , 200
ignorehitpause = 1

[State 610, 2]
type = PlaySnd
trigger1 = Animelem = 3
value = s0, 5

[State 610, 3]
type = HitDef
trigger1 =  Animelem = 3
attr = A, SA
damage = 55,5
guardflag = HA
flag =HAF
priority = 4
pausetime= ifelse(var(56)=1,14,12),ifelse(var(56)=1,15,13)
sparkno = -1
sparkxy= var(52):=20,var(53):=-12
guard.sparkno = -1
hitsound   = s1,7
guardsound = s1,6
animtype = Med
fall = 1
air.fall = 1
fall.recover = 0
fall.envshake.freq = 60
fall.envshake.ampl = -2
fall.envshake.time = 16
ground.type = High
ground.slidetime = 25
ground.hittime  = 25
ground.velocity = 2,8
air.velocity = 2, 8
getpower = 0,0
givepower = 0,0
id=1621

[State 610, 1]
type = PlaySnd
trigger1 = AnimElem = 3
value = s3,ifelse(random>500,21,20)
channel = 0

[State 0, VelMul]
type = VelMul
trigger1 = TIME = 0
x = .7
y = .5
;ignorehitpause =
;persistent =

[State 0, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 50
ctrl = 0
;---------------------------------------------------------------------------
;ShoryuKen-Caúa
[Statedef 1630]
type  = A
movetype= I
physics = A
poweradd= 0
ctrl = 0
anim = 1630
sprpriority = 2
juggle = 0

[State 0, VelMul]
type = VelMul
trigger1 = time = 0
x = 0.2
y = 0.17

[State 0, CtrlSet]
type = null;CtrlSet
trigger1 = animelem = 2
value = 1
;ignorehitpause =
;persistent =

[State 0, ChangeState]
type = ChangeState
trigger1= vel y > 0
trigger1= pos y > -vel y
value = 1631
ctrl = 0
;---------------------------------------------------------------------------
; Jump Land
[Statedef 1631]
type   = S
physics = S
ctrl = 0
anim = 47
hitcountpersist = 1

[State 0, Helper]
type = Helper
trigger1 = time = 0
helpertype = normal ;player
name = "Polvazo"
ID = 7060
stateno = 7060
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = .5
size.yscale = .5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = !time
value = S0,8

[State 52, 1]
type = VelSet
trigger1 = Time = 0
x = 0
y = 0

[State 52, 2]
type = PosSet
trigger1 = Time = 0
y = 0

[State 52, 3]
type = CtrlSet
trigger1 = Time = 10
value = 1

[State 52, 4]
type = ChangeState
trigger1 = time = 10
value = 0
ctrl = 1
;===========================================================================0===
;ShoryuKen-Ex-P2
[Statedef 1650]
type = S
physics = S
movetype = H
ctrl = 0
velset = 0, 0

[State 0, PosSet]
type = PosSet
trigger1 = pos y >= 0
y = 0

[State 5001, 1]
type = HitVelSet
trigger1 = 1
x = 1

[State 0, HitFallSet]
type = HitFallSet
trigger1 = 1
value = 0

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = 1
value = ifelse(pos y >=0,5002,5030)

[State 0, PosAdd]
type = PosAdd
trigger1 = 1
x = ifelse(time % 2,1,-1)

[State 3162, End]
type = selfstate
trigger1 = time >= 90
value = 5001
;-------------------------------------------------------------------------------
;Launcher
[Statedef 1200]
type  = S
movetype= A
physics = S
juggle = 4
poweradd= 40
ctrl = 0
velset = 0,0
anim = 1200
sprpriority = 2
juggle = 2
facep2 = 1

[State 0, VelSet]
type = velset
trigger1 = animelem = 2 
x = 7
y = 0

[State 0, VelSet]
type = velset
trigger1 = animelem = 3
x = 0
y = 0

[State 210, 1]
type = PlaySnd
trigger1 = AnimElem = 2
value = s0, 2

[State -2, Hit Sparks]
type = Helper
triggerAll = MoveHit = 1 && var(2) = HitPauseTime
trigger1 = MoveHit = 1&& NumEnemy
;trigger2 = MoveGuarded = 1 && NumEnemy
helperType = Normal
stateNo = 7996
ID = 7996
name = "Spark"
postype = P1
pos = ifElse(P2Dist x < 0, 0, ifElse(P2Dist x < var(52), ceil(P2Dist x), var(52))),var(53)
facing = -1
ownPal = 1
pauseMoveTime = 65535
superMoveTime = 65535
ignoreHitPause = 1
ontop = 1

[State 0,HitDef]
type= HitDef
trigger1= Animelemtime(2)=0
attr = S, SA
hitflag= MA
guardflag= M
animtype=Hard
fall.animtype=Up
priority= 5, Hit
damage = 80,5
pausetime= ifelse(var(56)=1,14,12),ifelse(var(56)=1,20,18)
guard.pausetime = 10,15
sparkno = -1; s7014+random%4
guard.sparkno = -1
sparkxy= var(52):=25,var(53):=-65
hitsound = S1, 2
guardsound = s1, 6
ground.type= High
air.type= high
ground.velocity = 0,ifelse(var(56)=1,-9,-11)
guard.velocity= .5
ground.slidetime= 30
ground.hittime = 30
air.hittime= 30
air.velocity= 0,ifelse(var(56)=1,-10,-11)
airguard.velocity= 0,-3
ground.cornerpush.veloff = -2
fall = 1
fall.recover = 1
fall.recovertime = 120
;id= 210
;getpower = 0,0
;givepower = 0,0
;palfx.time = 25
;palfx.mul = 198,198,0
;palfx.add = 198,198,0
;palfx.sinadd = 198,198,0,4
;envshake.time = 15
;envshake.freq = 125
;envshake.ampl = -3
;fall.envshake
;fall.;envshake.freq =
;fall.;envshake.ampl =
;fall.;envshake.phase =
;ignorehitpause = 
;persistent = 
;kill = 1
;guard.kill = 1
;fall.kill = 1
;numhits = 1

[State 0, Explod]
type = Explod
trigger1 = animelem = 2
anim = 7003
ID = 7003
pos = 30,-71
postype = p1 ;p2,front,back,left,right
facing = 1
vfacing = -1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
scale = 0.75,0.75
sprpriority = 1
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 1
;ignorehitpause = 
;persistent = 

[State 220, 1]
type = PlaySnd
trigger1 = AnimElem = 2
value = S3,13+random%8
channel = 0

[State 220, 5]
type = ChangeState
triggerall = movecontact
trigger1 = Animelem = 2, > 11
trigger1 = command = "holdup"
value = 60
ctrl = 1

[State 220, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;------------------------------------------------------------------------------
;Burn-Knuckle-Charge
[Statedef 1300]
type = S
movetype = I
physics = S
velset = 0,0
anim = 1300
ctrl = 0
poweradd = 80
facep2 = 1
sprpriority = 2

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 6007
ID = 6007
pos = -12,-35
postype = p1 ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -1
scale = .75,.75
sprpriority = 3
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 1

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 8
id = 6007

[State 0]
type = ChangeState
trigger1 = time = 8
value = 1301
;------------------------------------------------------------------------------
;Burn-Knuckle-Go!
[Statedef 1301]
type = S
movetype = A
physics = S
velset = 0,0
anim = 1301
ctrl = 0
poweradd = -500
facep2 = 1
sprpriority = 2
juggle = 2
facep2 = 1

[State 105, dash]
type	= Explod
triggerall = animelem = 2,>=0 && animelem =3, < 5
trigger1 = time%2=0
anim	= 6005
id = 6005
pos  = -40,-35
postype	= p1
facing  = 1
vfacing	= 1
random = 0,50
bindtime = 1
sprpriority = 0+random%4
vel  = 1+random%2,0
removetime = -2
accel  = 0,0
scale   = 0.5,0.5
ontop	= 0
ownpal = 1

[State 0, Explod]
type = Explod
trigger1 = animelem = 2
anim = 1320
ID = 1320
pos = 45,-50
bindtime = -1
postype = p1
removetime = -2
vel = 2,0
scale = .3,.3
sprpriority = 1
ownpal = 1
removeongethit = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S2,52

[State 11000, AfterImage]
type = AfterImage
trigger1 = !Time
time = 2
timegap = 1
framegap = 1
length = 5
palbright = 30,30,0
palcontrast = 128,128,128
paladd = -16,-16,-16
palmul = 1.1,1,.5
trans = add
ignorehitpause = 1

[State 11000, AfterImageTime]
type = AfterImageTime
trigger1 = MoveType = A
time = 2

[State 11000, PalFx]
type = PalFx
trigger1 = MoveType = A && var(56)!=1
time = 1
add = 30,30,0
mul = 300 ,300 , 200
ignorehitpause = 1

[State 0]
type = VarSet
trigger1 = !time
v = 55
value = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = !time
value = S3,13
channel = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S2,37

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S0,2

[State 0]
type = VelSet
trigger1 = AnimElem = 2;time(2) >= 1
x = 26

[State 0]
type = null;VelMul
trigger1 = AnimElemtime(3) >= 0
x = .9

[State 0]
type = null;VelMul
trigger1 = AnimElemtime(4) >= 5
x = 0

[State 0,HitDef]
type= HitDef
trigger1 = time = 0
attr = S, SA
hitflag= MAF
guardflag= MA
animtype= Hard
air.animtype= Back
priority= 5, Hit
damage = 145,14
pausetime= ifelse(var(56)=1,14,12),ifelse(var(56)=1,13,11)
sparkno = -1; s7014+random%4
guard.sparkno = -1
sparkxy= var(52):=53,var(53):=-46
hitsound = S1, 7
guardsound = s1, 6
ground.type= High
air.type= High
ground.velocity = -7.5,-4.5
guard.velocity= -4
ground.slidetime= 15
ground.hittime = 15
fall = 1
fall.recover = 1
fall.recovertime = 120
air.hittime= 25
air.velocity= -8.5,-4
airguard.velocity= -4,-4
getpower= 0,0
givepower = 40,40
envshake.time = 16
envshake.time = 6
envshake.ampl = -3
id =1301

[State 0, Pause]
type = Pause
triggerall = movecontact
trigger1 = time = [3,20]
time = 2
movetime = 0

[State 0, Explod]
type = Explod
trigger1 = animelem = 1
anim = 7102
ID = 7102
pos = 25,floor(-pos y)
postype = p1 ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
scale = .5,.3
sprpriority = 3
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0

[State 0, MakeDust]
type = MakeDust
trigger1 = animelem = 3,>= 0
pos = 0,0
spacing = 3

[State 0]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1
;-------------------------------------------------------------------------------
;Raigeki-Shuu-Debil
[Statedef 1400]
type = A
movetype = A
physics = N
anim = 1400
velset = 0,0
ctrl = 0
poweradd = 80
facep2 = 0
sprpriority = 2
juggle = 2

[State 860,AfterImage]
type = AfterImage
trigger1 = Time = 0
time = 2
trans = add1
TimeGap = 2
FrameGap = 2
length = 6
PalBright = 0, 0, 0
PalContrast = 128,128,128
PalAdd = 0, 0, 0
PalMul = 1, 1, 1

[State 0, AfterImageTime]
type = AfterImageTime
trigger1 = movetype = A
time = 3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = !time
value = S3,13+random%8
channel = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S0,5
;volume = 100
channel = -1

[State 0,HitDef]
type= HitDef
trigger1= animelem = 2
attr = A, SA
hitflag= MAFDP
guardflag= M
animtype= light
air.animtype= Back
priority= 5, Hit
damage = 75,6
pausetime= ifelse(var(56)=1,14,13),ifelse(var(56)=1,17,16)
sparkno = -1; s7014+random%4
guard.sparkno = -1
sparkxy= var(52):=5,var(53):=0
hitsound = S1, 5
guardsound = s1, 6
ground.type= High
air.type= Low
ground.velocity = -5;,-4.5
guard.velocity= -4
ground.slidetime= 15
ground.hittime = 15
air.hittime= 15
air.velocity= -1,-4
airguard.velocity= -1,-3
ground.cornerpush.veloff = -3
getpower= ifelse(p2movetype=H,80,40),40
givepower = 40,40
fall =0
id = 1400
nochainid = 1400

[State 0]
type = velset
trigger1 = animelem = 2
x = 1
y = 7

[State 0]
type = veladd
trigger1 = animelem = 2, > 0
x = 0.2
y = 0.35

[State 0]
type = velset
trigger1 = movecontact = 1
x = -1.25
y = -4.5

[State 0]
type = ChangeState
trigger1 = movecontact = 1 && animelem = 2, > 0
value = 50

[State 0]
type = ChangeState
trigger1= vel y > 0
trigger1= pos y > -vel y
value = 52
;-------------------------------------------------------------------------------
;Raigeki-Shuu-Medio
[Statedef 1425]
type  = A
movetype = A
physics = N
velset = 0,0
anim  = 1425
ctrl  = 0
poweradd = 80
hitdefpersist = 0
movehitpersist = 0
hitcountpersist = 0
sprpriority = 2
juggle = 2

[State 860,AfterImage]
type = AfterImage
trigger1 = Time = 0
time = 2
trans = add1
TimeGap = 2
FrameGap = 2
length = 6
PalBright = 0, 0, 0
PalContrast = 128,128,128
PalAdd = 0, 0, 0
PalMul = 1, 1, 1

[State 0, AfterImageTime]
type = AfterImageTime
trigger1 = movetype = A
time = 3
;ignorehitpause = 
;persistent = 

[State 0, PlaySnd]
type = PlaySnd
trigger1 = !time
value = S3,13+random%8
channel = 0

[State 0, Explod]
type = Explod
trigger1 = animelem = 2
anim = 7003
ID = 7003
pos = 42,0
postype = p1 ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
scale = 0.75,0.75
sprpriority = 3
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S0,5
;volume = 100
channel = -1

[State 0, VelAdd]
type = VelAdd
trigger1 = time >= 0 && animelem = 2, <=13
x = 0.065
;y = -0.65

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 2, >= 0 && animelem = 2, <=13
x = 9.8
y = 6.5

[State 0, hitdef]
type  = Hitdef
trigger1 = animelem = 2 && !numtarget(14251)
attr  = A, SA
hitflag   = MAFD
animtype  = medium
guardflag  = MA
priority  = 2, Hit
damage   = 95,8
pausetime= ifelse(var(56)=1,14,12),ifelse(var(56)=1,15,13)
numhits = 1  
sparkno = -1; s7014+random%4 ;s7000
guard.sparkno = -1
sparkxy = var(52):=40,var(53):=-5
hitsound = S1, 5
guardsound = s1, 6; = S1, 5
ground.type = low
air.type = Low
ground.slidetime = 15
ground.hittime = 20
air.hittime = 20
ground.velocity = -4;,1;-6.5
guard.velocity   = -3.5
air.velocity = -4,5
airguard.velocity= -3,4
ground.cornerpush.veloff = -4.5
air.cornerpush.veloff = -6
getpower= ifelse(p2movetype=H,80,40),40
givepower = 40,40
fall = 0
air.fall = 0
id = 14251
;envshake.time = 5
;envshake.freq  = 140
;envshake.ampl = -2
;envshake.phase = 90

[State 0, VelMul]
type = Velmul
trigger1 = animelem = 3
x = .02
y = .02

[State 0, RemoveExplod]
type = RemoveExplod
trigger1= vel y > 0
trigger1= pos y > -vel y
id = 7003

[State 1710]
type  = Changestate
trigger1= vel y > 0
trigger1= pos y > -vel y
value  = 52
ctrl  = 1
;-------------------------------------------------------------------------------
;Raigeki-Shuu-Ex
[Statedef 1450]
type = A
movetype = A
physics = N
anim = 1450
ctrl = 0
poweradd = -500
facep2 = 0
sprpriority = 2
juggle = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S0,5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S2,52

[State 11000, AfterImage]
type = AfterImage
trigger1 = !Time
time = 2
timegap = 1
framegap = 1
length = 5
palbright = 30,30,0
palcontrast = 128,128,128
paladd = -16,-16,-16
palmul = 1.1,1,.5
trans = add
ignorehitpause = 1

[State 11000, AfterImageTime]
type = AfterImageTime
trigger1 = MoveType = A
time = 2

[State 11000, PalFx]
type = PalFx
trigger1 = MoveType = A && var(56)!=1
time = 1
add = 30,30,0
mul = 300 ,300 , 200
ignorehitpause = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = !time
value = S3,13+random%8
channel = 0

[State 0, VelAdd]
type = velmul
trigger1 = animelem = 1
y = 0.3

[State 0, VelSet]
type = velset
trigger1 = time = 0
x = 4

[State 0, VelAdd]
type = veladd
trigger1 = animelem = 2
x = 4.5

[State 105, dash]
type	= Explod
triggerall = animelem = 2,>=0 && animelem = 3,<5
trigger1 = time%2=0
anim	= 6005
id = 6005
pos  = -40,-35
postype	= p1
facing  = 1
vfacing	= 1
random = 0,50
bindtime = 1
sprpriority = 0+random%4
vel  = 1+random%2,0
removetime = -2
accel  = 0,0
scale   = 0.5,0.5
ontop	= 0
ownpal = 1

[State 0, Explod]
type = Explod
trigger1 = animelem = 2
anim = 1451
ID = 1451
pos = 45,-30
postype = p1 ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
scale = 0.4,0.3
sprpriority = 3
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S2,3
;volume = 100
channel = -1

[State 0,HitDef]
type= HitDef
trigger1= time = 0
attr = A, SA
hitflag= MAFDP
guardflag= M
animtype= light
air.animtype= Back
priority= 5, Hit
damage = 145,15
pausetime= ifelse(var(56)=1,15,14),ifelse(var(56)=1,16,15)
sparkno = -1; s7014+random%4
guard.sparkno = -1
sparkxy= var(52):=50,var(53):=-30
hitsound = S1, 7
guardsound = s1, 6
ground.type= High
air.type= Low
ground.velocity = -9,-5.5
guard.velocity= -7.5
ground.slidetime= 10
ground.hittime = 30
air.hittime= 30
air.velocity= -11,-3
airguard.velocity= -9,-5
ground.cornerpush.veloff = -3
;;envshake.time   = 35
;;envshake.freq   = 115
;;;envshake.ampl   = -4
;nvshake.phase   = 15
fall =1
fall.recover = 1
fall.recovertime = 120
id = 1450
getpower= 0,0
givepower = 40,40

[State 0, PlayerPush]
type = PlayerPush
trigger1 = movecontact
value = 0

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = animtime = 0
trigger2= vel y > 0
trigger2= pos y > -vel y
id = 1451

[State 0, Gravity]
type = Gravity
trigger1 = animelem = 4, >= 0


[State 1710]
type  = Changestate
trigger1= vel y > 0
trigger1= pos y > -vel y
value  = 52
ctrl  = 1
;========================================================
;FireBall-1
[Statedef 2000]
type   = S
movetype= A
physics = S
velset = 0,0
juggle = 4
ctrl = 0
poweradd= -150
anim = 2000
facep2 = 1

[State 0, VarSet]
type = VarSet
trigger1 = animelem = 2
v = 36
value = 0

[State 0]
type = PlaySnd
trigger1 = AnimElem = 2 && random >700
value = s3,ifelse(random>500,21,0)
volume = 255
channel = 0

[State 0]
type = PlaySnd
trigger1 = AnimElem = 2
value = s2,6
volume = 255

[State 0]
type = Explod
trigger1 = animelem = 2
anim = 2020
postype = p1
pos = 28, -48
sprpriority = 3
bindtime = -1
removeongethit = 1
scale = 0.4,0.4
ownpal = 1

[State 1000,Helper]
type= Helper
trigger1= (AnimElem = 2); && (Power > 100)
helpertype= Normal
name= "Fire Ball"
id= 2010
pos= 32,-48
postype	= p1
facing	= 1
stateno	= 2010;+var(18)
keyctrl	= 0
ownpal	= 1
supermovetime= 0
pausemovetime= 0
size.xscale = .3
size.yscale = .3

[State 0]
type = ChangeState
triggerall = var(59)=0
triggerall =  command = "Atomic-Blast"
triggerall = power >= 400
trigger1 = time > 8
value =  2300
ctrl = 0

[State 0]
type = ChangeState
triggerall =  command = "Fire Balls"
triggerall = power >=150
trigger1 = time > 8
value =  2001
ctrl = 0

[State 0]
type = ChangeState
triggerall =  command = "Atomic-Blast"
triggerall = power >= 400
trigger1 = time > 8
value =  2300
ctrl = 0

[State 0]
type = ChangeState
triggerall = var(59)!=0
triggerall = power >=150
trigger1 = time > 8 && random <300
value =  2001
ctrl = 0

[State 0]
type = ChangeState
triggerall = var(59)!=0
triggerall = power >=400
trigger1 = time > 8 && random >900
value =  2300
ctrl = 0

[State 0]
type = ChangeState
trigger1 = time = 30
value = 0
ctrl = 1
;-------------------------------------------------------------------------------
;FireBall-2
[Statedef 2001]
type   = S
movetype= A
physics = S
velset = 0,0
juggle = 4
ctrl = 0
poweradd= -150
anim = ifelse(var(36)%2=0,2001,2000)
facep2 = 1

[State 0, VarSet]
type = VarAdd
trigger1 = animelem =2
v = 36
value = 1

[State 0]
type = PlaySnd
trigger1 = AnimElem = 2 && random >600
value = s3,ifelse(random>500,21,0)
volume = 255
channel = 0

[State 0]
type = PlaySnd
trigger1 = AnimElem = 2
value = s2,6
volume = 255

[State 0, Explod]
type = Explod
trigger1 = animelem = 2
anim = 2020
postype = p1
pos = ifelse(anim=2000,28,20),ifelse(anim=2000,-48,-50)
sprpriority = 3
bindtime = -1
removeongethit = 1
scale = 0.4,0.4
ownpal = 1

[State 1000,Helper]
type= Helper
trigger1= (AnimElem = 2); && (Power > 100)
helpertype= Normal
name= "Fire Ball"
id= 2010
pos= 20,-50
postype	= p1
facing	= 1
stateno	= 2010;+var(18)
keyctrl	= 0
ownpal	= 1
supermovetime= 0
pausemovetime= 0
size.xscale = .3
size.yscale = .3

[State 0]
type = ChangeState
triggerall =  command = "Atomic-Blast"
triggerall = power >= 400
trigger1 = time > 8
value =  2300
ctrl = 0

[State 0]
type = ChangeState
triggerall =  command = "Fire Balls"
triggerall = power >=150
triggerall = var(36) <4
trigger1 = time > 8
value =  2001
ctrl = 0

[State 0]
type = ChangeState
triggerall = var(59)!=0
triggerall = power >=150
triggerall = var(36) <4
trigger1 = time > 8 && random < 300 && p2bodydist x > 50
value =  2001
ctrl = 0

[State 0]
type = ChangeState
triggerall = var(59)!=0
triggerall = power >=400
trigger1 = time > 8 && random >800
value =  2300
ctrl = 0

[State 0]
type = ChangeState
trigger1 = time = 30
value = 0
ctrl = 1
;-----------------------------------------------
;Fire Ball-Projectile
[Statedef 2010]
movetype = A
anim = 2010
velset = 0,0
ctrl = 0
juggle = 0
sprpriority = 2
poweradd = 0

[State 1005, Helper]
type = Helper
trigger1 = MoveContact = 1 && NumTarget
trigger1 = !(Target,HitShakeOver)
helpertype = normal
name = "Hit Spark"
ID = 8000
stateno = IfElse(MoveGuarded, 7998, 8000)
pos = 5,0;ifElse(P2Dist x < 0, 0, ifElse(P2Dist x < 15, ceil(P2Dist x), 15)),0
postype = p1   ;p2,front,back,left,right
facing = 1
ownpal = 0
supermovetime = 65535
pausemovetime = 65535
ignorehitpause = 1
size.yscale = 1
size.xscale = 1

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add

[State 0, Explod]
type = Explod
trigger1 = random > 200
anim = 2022
ID = 2022
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = vel x*.05,vel y*.1
random = 4,10;0,0
removetime = -2
scale = .05,.05
sprpriority = ifelse(random > 500,4,-4)
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 0, VelSet]
type = VelSet
trigger1 = !time
x = 11
y = (-14+random%28)*0.1;ifelse(random < 500,0,ifelse(random<500,2,-2))

;[State 0, VelAdd]
;type = VelAdd
;trigger1 = time > 0
;x = 0.15

[State 201, 1]
type = HitDef
trigger1 = time = 0
attr = S, NP   
damage   = 25,3
animtype = medium   
guardflag = MA   
hitflag = MAF   
priority = 3, Hit   
pausetime = 0,7   
sparkno = -1
guard.sparkno = -1
sparkxy = 0,0
hitsound = s2,4   
guardsound = s2,4   
ground.type = heavy   
ground.slidetime = 15
ground.hittime  = 15
ground.velocity = ifelse(parent,stateno=1002,-7,-2) 
airguard.velocity = -2,-3   
air.velocity = ifelse(parent,stateno=1002,-7,-2) 
getpower = 0,0
givepower = 40,40
palfx.time = 30
palfx.add = 100,100,0
palfx.sinadd = -100,-100,-0, 120
;envshake.time=15
;envshake.freq=100
;envshake.ampl=4

[State 0, HitBy]
type = HitBy
trigger1 = 1
value = SCA,NP,SP,HP
time = -1

[State 0, HitOverride]
type = HitOverride
trigger1 = 1
attr = SCA,AA,AP,AT
slot = 0
stateno = 2011
time = -1

[State 0, AfterImageTime]
type = AfterImageTime
trigger1 = movecontact
time = 0

[State 0, DestroySelf]
type = changestate
trigger1 = movecontact || frontedgedist <-50
value = 2011
ctrl = 0
;-----------------------------------------------
;Fire Ball-Explosion
[Statedef 2011]
movetype = I
anim = 2011
velset	 = 0,0
ctrl = 0
juggle = 0
sprpriority = 4

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = 0
y = 0
ignorehitpause = 1

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = .75,.75

[State 0, AngleDraw]
type = AngleDraw
trigger1 = prevstateno = 2010 && 1
value =0

[State 0, AngleDraw]
type = AngleDraw
trigger1 = prevstateno = 2155 && 1
value = -35

[State 0, AngleDraw]
type = AngleDraw
trigger1 = prevstateno = 2710 && 1
value = -90

[State 0, AngleDraw]
type = AngleDraw
trigger1 = prevstateno = 2060 && 1
value = 90

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add

[State 0, AfterImageTime]
type = AfterImageTime
trigger1 = !time
time = 0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 0, DestroySelf]
type = DestroySelf
trigger1 = animtime = 0
;-------------------------------------------------------------------------------
;Shyougeki Ha-Cargar
[Statedef 2200]
type   = S
movetype= I
physics = S
velset = 0,0
ctrl = 0
poweradd= -400
anim = 2200
sprpriority = 2

[State 0, Explod]
type = Explod
trigger1 = time= 0
anim = 8013
ID = 8013
pos = 25,-57
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -1
scale = 0.2,0.2
sprpriority = 3
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 1

[State 0, VarSet]
type = VarSet
trigger1 = !time
v = 19
value = 1

[State 0, VarSet]
type = Varadd
trigger1 = time>=7 
v = 19
value = 3

[State 0, RemoveExplod]
type = RemoveExplod
triggerall = var(56)!=1
triggerall = time >=7
trigger1 = command != "holdc"
trigger2 = time = 75
id = 8013
;ignorehitpause = 
;persistent = 

[State 0, RemoveExplod]
type = RemoveExplod
triggerall = var(56)=1
trigger1 = time =7
id = 8013
;ignorehitpause = 
;persistent = 

[State 0, ChangeState]
type = ChangeState
triggerall = var(59)!=0
triggerall = var(56)=0
trigger1 = time = 7 || time = 14 || time = 21 || time = 28 || time = 35
value = 2201
ctrl = 0

[State 0, ChangeState]
type = ChangeState
triggerall = var(56)=1
trigger1 = time =7
value = 2201
ctrl = 0

[State 0, ChangeState]
type = ChangeState
triggerall = var(59)=0
triggerall = var(56)!=1
triggerall = time >=7
trigger1 = command != "holdc"
trigger2 = time = 75
value = 2201
ctrl = 0

;-------------------------------------------------------------------------------
;Shyougeki Ha-Lanzar
[Statedef 2201]
type   = S
movetype= A
physics = S
velset = 0,0
ctrl = 0
poweradd= 0
anim = 2201
sprpriority = 2
hitcountpersist = 1
facep2 = 1

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = 1
id = 8013

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S3,13+random%8
channel = 0

[State 0, Explod]
type = Explod
trigger1 = animelem = 2
anim = 7000
ID = 7000
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = -1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
supermovetime = 9999
pausemovetime = 9999
scale = 0.15,0.3
sprpriority = 1
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 1


[State 0, Helper]
type = Helper
trigger1 = animelem = 2
helpertype = normal ;player
name = "Shyougeki Ha-Helper"
ID = 2210
stateno = 2210
pos = 60+(var(19)),0
postype = p1   ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.55
size.yscale = 0.55

[State 0]
type = VarSet
trigger1 = time = 0
v = 55
value = 0

[State 0]
type = VarSet
triggerall = var(55)=0  && time >= 1
trigger1 = (command = "Atomic-Blast") && power >= 400
v = 55
value = 2300

[State 0]
type = ChangeState
triggerall = var(59)!=0
triggerall = power >=2000
trigger1 = time >= 2 && random >900
value =  3400
ctrl = 0

[State 0]
type = ChangeState
triggerall = var(55) != 0
trigger1 = Animelem = 5, >= 0
value = var(55)

[State 0, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value =0
ctrl = 1
;-------------------------------------------------------------------------------
;Shyougeki Ha-Helper
[Statedef 2210]
type   = S
movetype= A
physics = S
velset = 0,0
ctrl = 0
poweradd= 0
anim = 2210
sprpriority = 3
juggle = 5

[State 1005, Helper]
type = Helper
trigger1 = MoveContact = 1 && NumTarget
trigger1 = !(Target,HitShakeOver)
helpertype = normal
name = "Hit Spark"
ID = 8000
stateno = IfElse(MoveGuarded, 7998, 8000)
pos = ifElse(P2Dist x < 0, 0, ifElse(P2Dist x < 15, ceil(P2Dist x), 15)),ceil(P2Dist y-40)
postype = p1   ;p2,front,back,left,right
facing = 1
ownpal = 1
supermovetime = 65535
pausemovetime = 65535
sprpriority = 5
ignorehitpause = 1
size.yscale = 1
size.xscale = 1
persistent = 0

[State 0, PosSet]
type = PosSet
trigger1 = parent,var(56)=1
x = enemynear, pos x -0
y = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = !time
value = S2,14
;persistent = 

[State 0, Explod]
type = Explod
trigger1 = time= 0 || time = 8
anim = 2222
ID = 2222
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,-5
random = 0,0
removetime = -2
scale = 0.35,0.35
sprpriority = 4
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0

[State 0,HitDef]
type= HitDef
trigger1= !time
attr	= S, SP
hitflag= MAF
guardflag= MA
animtype= Hard
air.animtype= Back
priority= 5, Hit
damage	= 70,7
pausetime= 2,13
sparkno	= -1
guard.sparkno = -1
sparkxy= 0,-35
hitsound= S2,43
guardsound= S2,43
ground.type= High
air.type= high
ground.velocity	= -0.4,-8.5
guard.velocity= -0.2
ground.slidetime= 5
ground.hittime	= 250
fall = 1
fall.recover = 0
air.hittime= 25
air.velocity= -0.5,-9
airguard.velocity= -0.5,-7
ground.cornerpush.veloff =0
;getpower = 0,0
;givepower = 0,0
;palfx.time	= 25
;palfx.mul	= 198,198,0
;palfx.add	= 198,198,0
;palfx.sinadd  = 198,198,0,4
envshake.time  = 13
envshake.ampl  = -4
;envshake.freq  = 120
getpower = 0,0
givepower = 40,40
id = 22101
nochainid = 22101,23201

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 0, DestroySelf]
type = DestroySelf
trigger1 = animtime = 0
;-------------------------------------------------------------------------------
;Atomic-Blast
[Statedef 2300]
type   = S
movetype= I
physics = N
anim = 2300
velset = 0,0
juggle = 4
ctrl = 0
poweradd= -400
facep2 = 1

[State 0, Explod]
type = Explod
triggerall = time >= 10
trigger1 = timemod = 16,1
anim = 2310
ID = 2310
pos = 35,-50
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
scale = 0.3,0.3
sprpriority = 3
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1= animelem = 2
value = S2,14

[State 0, RemoveExplod]
type = RemoveExplod
triggerall = time >= 16
trigger1 = command != "holdc"
trigger2 = time = 100
id = 2310

[State 0]
type = ChangeState
triggerall = time >= 16; && var(56)!=1
trigger1 = command != "holdc"
trigger2 = time = 100
value = 2301
ctrl = 0
;-------------------------------------------------------------------------------
;Atomic-Blast-Fire
[Statedef 2301]
type   = S
movetype= A
physics = S
anim = 2301
velset = 0,0
juggle = 4
ctrl = 0
poweradd= 0
facep2 = 1

[State 0]
type = PlaySnd
trigger1 = !time
value = S3,13+random%8
volume = 255
channel = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S2,32

[State 0, Explod]
type = Explod
trigger1 = !time
anim = 7102
ID = 7102
pos = -7,4
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
scale = 0.3,0.3
sprpriority = 3
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 2321
ID = 2321
pos = 20,-50
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
scale = 0.55,0.55
sprpriority = 4
ownpal = 1
removeongethit = 0

[State 2301]
type= Helper
trigger1 = time = 0
helpertype= Normal
name= "Atomic-Blast-Helper"
id= 2320
pos= 35,-50
postype	= p1
facing	= 1
stateno	= 2320
keyctrl	= 0
ownpal	= 1
size.xscale = 0.45
size.yscale = 0.3
;pausemovetime = 666

[State 0]
type = ChangeState
trigger1 = time = 35
value = 2303
ctrl = 0
;-------------------------------------------------------------------------------
;Atomic-Blast-End
[Statedef 2303]
type   = S
movetype= I
physics = S
anim = 2303
velset = 0,0
juggle = 0
ctrl = 0
poweradd= 0

[State 0, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;Plasma?
[Statedef 2320]
type = A
movetype = A
physics = N
anim = 2320
velset = 0,0
ctrl = 0
hitdefpersist = 0
movehitpersist = 0
hitcountpersist = 0
sprpriority = 4

[State 1005, Helper]
type = Helper
trigger1 = MoveContact = 1 && NumTarget
trigger1 = !(Target,HitShakeOver)
helpertype = normal
name = "Hit Spark"
ID = 8000
stateno = IfElse(MoveGuarded, 7998, 8000)
pos = ifElse(P2Dist x < 0, 0, ifElse(P2Dist x < 15, ceil(P2Dist x), 15)),0
postype = p1   ;p2,front,back,left,right
facing = 1
ownpal = 1
supermovetime = 65535
pausemovetime = 65535
ignorehitpause = 1
size.yscale = 1
size.xscale = 1
persistent = 0

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 2330
ID = 2330
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -1
scale = 0.12,0.1
sprpriority = 3
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 1
;ignorehitpause = 
;persistent = 

[State 0, Explod]
type = Explod
trigger1 = timemod = 5,1
anim = 7107
ID = 7107
pos = 0,floor(-pos y)
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
scale = 0.3,0.3
sprpriority = 1+random%2
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0
trans = add

[State 0, HitOverride]
type = HitOverride
trigger1 = 1
attr = SCA,AA,AP,AT   ;SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
slot = 1
stateno = 2111
time = -1
forceair = 0

[State 0, HitBy]
type = HitBy
trigger1 = 1
value = SCA,NP,SP,HP
;value2 = S,NA
time = -1

[State 0, VarAdd]
type = VarAdd
trigger1 = movecontact && numtarget
v =  24   ;fv = 
value = 1

[State 0, VarRandom]
type = VarRandom
trigger1 = !time
v = 15
range = 1,5

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause =1

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = 12.5

;[State 0, VelSet]
;type = VelSet
;trigger1 = movecontact
;x = 3.5
;y = 0

[State 0, Explod]
type = Explod
trigger1 = movecontact && numexplod(2011)=0
anim = 2012
ID = 2011
pos = 30,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
scale = 0.3,0.3
sprpriority = 4
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0
ignorehitpause =  1
persistent = 0

[State 0,HitDef]
type= HitDef
;trigger1= hitcount < parent, var(25)
trigger1 = time = 0 && p2stateno != [1025,1030]
attr	= S, SP
hitflag= MAF
guardflag= MA
animtype= medium
air.animtype= heavy
priority= 5, Hit
damage	= 85,9
pausetime= 4,17
sparkno	= -1
guard.sparkno	= -  1;
sparkxy= 0,0
hitsound= S2,12
guardsound= S1,6
ground.type= high
air.type= high
ground.velocity	= -1,-2
guard.velocity= -1
ground.slidetime= 10
ground.hittime	= 35
air.hittime= 35
air.velocity= -1,-2
airguard.velocity= -1,-2
ground.cornerpush.veloff = 0
down.velocity	= -1,-2
fall =1
envshake.time  = 30
envshake.ampl  = -4
envshake.freq  = 100
palfx.time = 45
palfx.add = 100,100,0
palfx.sinadd = -100,-100,-0, 120
getpower = 0,0
givepower = 40,40
id = 23201

[State 0, TargetState]
type = TargetState
trigger1 = movehit = 1 && numtarget(23201)
trigger1 = p2stateno != [1025,1030]
value = 1025
ID = 23201
ignorehitpause = 1

[State 0, TargetBind]
type = TargetBind
trigger1 = frontedgedist >= -5
time = 1
id = -1
pos = 25,(abs(enemynear,const(size.mid.pos.y))-15)

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = frontedgedist <= -50 || moveguarded
id = 2330

[State 0, DestroySelf]
type = DestroySelf
trigger1 = frontedgedist <= -50 || moveguarded

;[State 0, ChangeState]
;type = ChangeState
;trigger1 = movecontact && var(24) < parent, var(25)
;value =2320
;ctrl = 0

;[State 0]
;type = destroyself
;triggerall = time >= 100
;trigger1 = var(24) >= parent, var(25)
;trigger2 = moveguarded
;trigger3 = frontedgedist <= -50

;-----------------------------------------------
;PlasmaExplod
[Statedef 2111]
type   = A
movetype= I
physics = N
anim	 = 2111
velset	 = 0,0
ctrl	 = 0
poweradd	= 0
juggle	 = 0
facep2	 = 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority	= 2

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 2111
ID = 2111
pos = 0,0
removetime = -2
scale = 1,1
sprpriority = 3
ownpal = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
flag2 = invisible
ignorehitpause = 1

[State 0, DestroySelf]
type = DestroySelf
trigger1 = !numexplod(2111)
;-------------------------------------------------------------------------------
;Atomic-Blast-Combo
[Statedef 2302]
type   = S
movetype= A
physics = S
anim = 2302
velset = 0,0
ctrl = 0
poweradd= -100

[State 0, VarSet]
type = VarSet
trigger1 = animelem = 1
v = 25   
value = 0

[State 0]
type = PlaySnd
trigger1 = time = 0
value = s3,23
volume = 255

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 7105
ID = 7105
pos = 25,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
scale = 0.6,0.5
sprpriority = 1
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0
;ignorehitpause = 
;persistent = 

[State 0, Explod]
type = Explod
trigger1 = !time
anim = 6026
ID = 6026
pos = -10,0
postype = p1  ;p2,front,back,left,right
facing = -1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
scale = 0.4,0.4
sprpriority = 3
ontop = 0
shadow = 0,0,0
ownpal = 0
removeongethit = 0
;ignorehitpause = 
;persistent = 

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S2,9

[State 0, Explod]
type = Explod
trigger1 = !time
anim = 1020
ID = 1020
pos = 25,-50
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
scale = 0.7,0.7
sprpriority = 3
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0
;ignorehitpause = 
;persistent = 

[State 2302]
type= Helper
trigger1 = animelem = 2
helpertype= Normal
name= "Atomic-Blast-Helper"
id= 2320
pos= 25,-50
postype	= p1
facing	= 1
stateno	= 2320
keyctrl	= 0
ownpal	= 1
size.xscale = 0.65
size.yscale = 0.5

[State 0]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1
;-------------------------------------------------------------------------------
;Renzoku Sen Kodan-1
[Statedef 2100]
anim = 2100
physics = S
type   = S
movetype= A
;physics = S
velset = 0,0
juggle = 4
ctrl = 0
poweradd= -100
facep2 = 1

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 17
value = 0

[State 0, DisplayToClipboard]
type = DisplayToClipboard
trigger1 =1
text = "var(40) = %d"
params = var(40)

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S2,6

[State 0, Explod]
type = Explod
trigger1 = animelem = 2
anim = 2061
ID = 2061
pos = -5,-85
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = -1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
scale = 0.5,0.5
sprpriority = 3
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 1

[State 0]
type= Helper
trigger1= AnimElem = 2 && Power > 150
helpertype= Normal
name= "CrazyBall"
id= 2110
pos= -5,-85
postype	= p1
facing	= 1
stateno	= 2110
keyctrl	= 0
ownpal	= 1
supermovetime= 0
pausemovetime= 0

[State 0]
type = ChangeState
triggerall = var(59)=0
triggerall = command = "c"
triggerall = power >= 100 && numhelper(2110) <ifelse(var(56)=1,8,6)
trigger1 = time > 11
trigger1 = time < 27
value =  2101
ctrl = 0

[State 0]
type = ChangeState
triggerall = var(59)!=0
triggerall = power >= 100 && numhelper(2110) <ifelse(var(56)=1,8,6)
trigger1 = time > 11
trigger1 = time < 27
trigger1 = (random = [0,500])
value =  2101
ctrl = 0

[State 0]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1
;-------------------------------------------------------------------------------
;Renzoku Sen Kodan-2
[Statedef 2101]
type   = S
movetype= A
physics = S
velset = 0,0
juggle = 4
ctrl = 0
poweradd= -100
anim = 2101
facep2 = 1

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 17   ;fv = 10
value = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S2,6

[State 0, Explod]
type = Explod
trigger1 = animelem = 2
anim = 2061
ID = 2061
pos = 5,-85
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = -1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
scale = 0.5,0.5
sprpriority = 3
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 1

[State 0]
type= Helper
trigger1= AnimElem = 2 && Power > 150
helpertype= Normal
name= "Kaosuponpu"
id= 2110
pos= 5,-85
postype	= p1
facing	= 1
stateno	= 2110
keyctrl	= 0
ownpal	= 1
supermovetime= 0
pausemovetime= 0

[State 0]
type = ChangeState
triggerall = var(59)!=0
triggerall = power >= 100 && numhelper(2110) <ifelse(var(56)=1,8,6)
trigger1 = time > 11
trigger1 = time < 27
trigger1 = (random = [0,500])
value =  2101
ctrl = 0

[State 0]
type = ChangeState
triggerall = var(59)=0
triggerall = command = "c"
triggerall = power >= 100 && numhelper(2110) <ifelse(var(56)=1,8,6)
trigger1 = time > 11
trigger1 = time < 27
value =  2100
ctrl = 0

[State 0]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;-------------------------------------------------------------------------------
;Renzoku Sen Kodan-Tirar
[Statedef 2102]
type   = S
movetype= I
physics = S
velset = 0,0
juggle = 0
ctrl = 0
poweradd= 0
anim = 2102
facep2 = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S3,30
channel = 0

[State 0, VarSet]
type = VarSet
trigger1 = animelem = 2
v = 17   ;fv = 10
value = 1
;ignorehitpause = 
;persistent = 

[State 0, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value =0
ctrl = 1
;-----------------------------------------------
;Kaosuponpu
[Statedef 2110]
movetype	= A
anim	 = 2110
;velset	 = 0,0
ctrl	 = 0
poweradd	= 0
juggle	 = 0
facep2	 = 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority	= 2

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = .4,.4

[State 0, Trans]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256,256

[State 0, VelSet]
type = Velset;PosSet;VelSet
trigger1 = parent,var(17)=1
x = ifelse(p2dist x <0,-8,8);x = pos x - (pos x - enemy,pos x)/8;ifelse(p2dist x = 0,0,ifelse(p2dist x >0,9,-9));ifelse((p2dist x = [-10,10]),0,ifelse(p2dist x >10,9,-9))
y = 11;y = pos y - (pos y + 30 - enemy,pos y)/8;ifelse(p2dist y = 0,0,ifelse(p2dist y >0,9,-9));ifelse((p2dist y = [-20,20]),0,ifelse(p2dist y >20,7.5,-7.5))

[State 0, VarSet]
type = VarSet
trigger1 = time = 20 && parent,var(40)=[-4,4]
v = 38   ;fv = 10
value = 1

[State 0]
type = AssertSpecial
trigger1 = 1
flag = NoShadow
ignorehitpause = 1

[State 0, VelAdd]
type = VelAdd
trigger1 = time >=0 && var(38)=0
y = 0.1

[State 0, VarRandom]
type = VarRandom
trigger1 = time = 0
v = 45
range = -90,-70

[State 0, VarRandom]
type = VarRandom
trigger1 = time = 0
v = 44
range = -50,50

[State 0, VelSet]
type = VelSet
trigger1 = time = 1
x = var(44)*0.1
y = var(45)*0.1

[State 0, VelSet]
type = velset
triggerall = parent,var(17)!=1
trigger1 = var(38)=1
x = 0
y = 0

[State 1001:	Hitdef]
type   = Hitdef
trigger1   = (1)
affecteam = B
attr	 = A, SP
hitflag	 = MAFD
guardflag	= MA
animtype	= high
priority	= 7, Hit
damage	 = 40,4
pausetime	= 6,9
sparkno	 = -1
guard.sparkno	= -1
hitsound	= s2,34
guardsound	= s2,34
ground.type	= heavy
air.type	= heavy
ground.slidetime= 30
ground.hittime	= 30
air.hittime	= 35
ground.velocity	= -4
guard.ctrltime = 35
guard.velocity	= -3.5
air.velocity	= -4,-3
airguard.velocity = -4,-2
ground.cornerpush.veloff = 0
fall.xvelocity	= -1
fall.yvelocity	= -3
fall.recover	= 1
fall = 0
air.fall	= 1
palfx.time = 50
palfx.add = 100,100,0
palfx.sinadd = -100,-100,-0, 120
envshake.time  = 12
envshake.freq  = 120
envshake.ampl  = -4
getpower = 0,0
givepower = 40,40

[State 0]
type = Explod
trigger1 = movecontact  || pos y >= 0
anim = 2121
id = 2121
postype = p1
pos = 0, 0
sprpriority = 3
bindtime = 1
removeongethit = 1
removetime = -2
scale = 0.75,0.75
shadow = 0,0,0
ownpal = 0
persistent = 0
ignorehitpause = 1

[State 0, VelSet]
type = VelSet
trigger1 = movecontact || pos y >= 0
x = 0
y = 0
ignorehitpause = 1

[State 0, HitOverride]
type = HitOverride
trigger1 = 1
attr = SCA,AA,AP,AT
slot = 0
stateno = 2111
time = -1
forceair = 0

[State 0, HitBy]
type = HitBy
trigger1 = 1
value = SCA,NP,SP,HP
time = -1

[State 0, ChangeState]
type = ChangeState
trigger1 = time = 1000
value = 2111
ctrl = 0

[State 0]
type = destroyself
trigger1 = pos y >=0 || movecontact = 1
;-----------------------------------------------
;Fire Ball-Explod
[Statedef 2111]
type   = A
movetype= I
physics = N
anim	 = 2111
velset	 = 0,0
ctrl	 = 0
poweradd	= 0
juggle	 = 0
facep2	 = 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority	= 2

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 0, DestroySelf]
type = DestroySelf
trigger1 = animtime = 0
;===================================================================================
;Aerial Fireball
[Statedef 2150]
type   = A
movetype= A
physics = N
juggle = 4
ctrl = 0
poweradd= -150
anim = 2150
facep2 = 1

[State 0, VarSet]
type = VarSet
trigger1 = animelem = 2
v = 36
value = 0

[State 0]
type = PlaySnd
trigger1 = AnimElem = 2 && random >700
value = s3,ifelse(random>500,21,0)
volume = 255
channel = 0

[State 0]
type = VelMul
trigger1 = !Time && prevstateno != 1151
x = .085
y = .075

[State 0]
type = PlaySnd
trigger1 = AnimElem = 2
value = s2,6
volume = 255

[State 0, Explod]
type = Explod
trigger1 = animelem = 2
anim = 2021
ID = 2021
pos = 35,-40
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
scale = 0.4,0.4
sprpriority = 4
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 1

[State 0, Helper]
type = Helper
trigger1 = animelem = 2
helpertype = normal ;player
name = "air-fireball"
ID = 2155
stateno = 2155
pos = 35,-40
postype = p1   ;p2,front,back,left,right
facing = 1
size.xscale = 0.3
size.yscale = 0.3
keyctrl = 0
ownpal = 1
SPRPRIORITY = 3

[State 0]
type = ChangeState
triggerall = command = "Big-Ball" 
triggerall = power >=400
trigger1 = time > 8
value =  2600
ctrl = 0

[State 0]
type = ChangeState
triggerall = command = "Fire Balls" 
triggerall = power >=150
trigger1 = time > 8
value =  2151
ctrl = 0

[State 0]
type = ChangeState
trigger1= vel y > 0
trigger1= pos y > -vel y
value = 52
ctrl = 1

[State 0]
type = ChangeState
trigger1 = animtime = 0
value = 50
ctrl = 1

;==========================
;Aerial fireball 2
[Statedef 2151]
type   = A
movetype= A
physics = N
juggle = 4
ctrl = 0
poweradd= -150
anim = ifelse(var(36)%2=0,2151,2150)
facep2 = 1

[State 0, VarSet]
type = VarAdd
trigger1 = animelem =2
v = 36
value = 1

[State 0]
type = PlaySnd
trigger1 = AnimElem = 2 && random >700
value = s3,ifelse(random>500,21,0)
volume = 255
channel = 0

[State 0]
type = VelMul
trigger1 = !Time && prevstateno != 1050
x = .085
y = .075

[State 0, Explod]
type = Explod
trigger1 = animelem = 2
anim = 2021
ID = 2021
pos = ifelse(anim=2151,25,35),ifelse(anim=2151,-35,-40)
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
scale = 0.4,0.4
sprpriority = 4
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 1

[State 0]
type = PlaySnd
trigger1 = AnimElem = 2
value = s2,6
volume = 255

[State 0]
type = ChangeState
triggerall = command = "Big-Ball" 
triggerall = power >=400
trigger1 = time > 10
value =  2600
ctrl = 0

;[State 0]
;type = ChangeState
;triggerall = command = "Fire Balls"
;triggerall = power >=150
;trigger1 = time > 10
;value =  2150
;ctrl = 0

[State 0, Helper]
type = Helper
trigger1 = animelem = 2
helpertype = normal ;player
name = "air-fireball"
ID = 2155
stateno = 2155
size.xscale = 0.3
size.yscale = 0.3
pos = 27,-37
postype = p1   ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
SPRPRIORITY = 3

[State 0]
type = ChangeState
triggerall =  command = "Big-Ball"
triggerall = power >= 400
trigger1 = time > 8
value =  2600
ctrl = 0

[State 0]
type = ChangeState
triggerall =  command = "Fire Balls"
triggerall = power >=150
triggerall = var(36) <3
trigger1 = time > 8
value =  2151
ctrl = 0

[State 0]
type = ChangeState
trigger1= vel y > 0
trigger1= pos y > -vel y
value = 52
ctrl = 1

[State 0]
type = ChangeState
trigger1 = animtime = 0
value = 50
ctrl = 1
;-----------------------------------------------
;AirFireBall-Projectile
[Statedef 2155]
type   = A
movetype= A
physics = N
anim	 = 2010
;velset	 = 0,0
ctrl	 = 0
poweradd	= 0
juggle	 = 2
facep2	 = 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority	= 2

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = -35

[State 1005, Helper]
type = Helper
trigger1 = MoveContact = 1 && NumTarget
trigger1 = !(Target,HitShakeOver)
helpertype = normal
name = "Hit Spark"
ID = 8000
stateno = IfElse(MoveGuarded, 7998, 8000)
pos = ifElse(P2Dist x < 0, 0, ifElse(P2Dist x < 10, ceil(P2Dist x), 10)),0
postype = p1   ;p2,front,back,left,right
facing = 1
ownpal = 1
supermovetime = 65535
pausemovetime = 65535
ignorehitpause = 1
size.yscale = 1
size.xscale = 1
persistent = 0

[State 0, Explod]
type = Explod
trigger1 = random > 200
anim = 2022
ID = 2022
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = vel x*.05,vel y*.1
random = 4,10;0,0
removetime = -2
scale = .04,.04
sprpriority = ifelse(random > 500,4,-4)
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0

[State 0, VarRandom]
type = VarRandom
trigger1 = time =0
v = 6
range = 90,120

[State 0, VarRandom]
type = VarRandom
trigger1 = time =0
v = 7
range = 50,100

[State 0, VelSet]
type = VelSet
trigger1 = time
x = var(6)*0.1
y = var(7)*0.1

[State 0, HitOverride]
type = HitOverride
trigger1 = 1
attr = SCA,AP,AT,AA
slot = 0
stateno = 2011
time = -1
forceair = 0

[STate 0]
type = hitby
trigger1 = 1
value = SCA,NP,SP,HP

[STate 0
type = nothitby
trigger1 = 1
value = SCA,AA,AT

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add
;alpha = 256,256
;ignorehitpause =
;persistent =

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 1001:	Hitdef]
type   = Hitdef
trigger1   = (1)
attr	 = S, NP
hitflag	 = MAFDP
guardflag	= MA
animtype	= medium
priority	= 7, Hit
damage	 = 30,3
pausetime	= 1,2
sparkno	 = -1
sparkxy	 = 0,0
guard.sparkno	= -1;s7006
hitsound	= s2,4  
guardsound	= s2,4
ground.type	= heavy
air.type	= heavy
ground.slidetime= 15
ground.hittime	= 15
air.hittime	= 15
ground.velocity	= -3
guard.ctrltime = 15
guard.velocity	= -2.5
air.velocity	= -4,-1.5
airguard.velocity = -4,-1.2
ground.cornerpush.veloff = 0
fall.xvelocity	= -1
fall.yvelocity	= -3
fall.recover	= 0
air.fall	= 1
down.velocity	= -1,-2
down.bounce	= 1
guard.kill	= 0
getpower	= 0,0
givepower	= 40,40
palfx.time = 25
palfx.add = 100,100,0
palfx.sinadd = -100,-100,-0, 120
;envshake.time  = 12
;envshake.freq  = 120
;envshake.ampl  = -4
id = 2010

[State 0, DestroySelf]
type = changestate
trigger1 = movecontact || pos y >=0
value = 2011
ctrl = 0
;ignorehitpause = 
;persistent =
 
;===================================================================================
;Big Ball-Carga
[Statedef 2600]
type   = A
movetype= A
physics = N
juggle = 4
ctrl = 0
poweradd= -400
anim = 2600
facep2 = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S2,24

[State 0, Explod]
type = Explod
trigger1 = animelem =1
anim = 2620
ID = 7001
pos = -15,-60
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -1
scale = 0.3,0.3
sprpriority = 3
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 1

[State 0, Explod]
type = Explod
trigger1 = animelem =1
anim = 8013
ID = 7001
pos = -15,-60
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -1
scale = 0.65,0.65
sprpriority = 4
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = s3,10
channel = 0

[State 0]
type = VelMul
trigger1 = !Time
x = .085
y = .075

[State 0]
type = velset
trigger1 = pos y >= 0
y = 0

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time >= 18
id = 7001

[State 0]
type = ChangeState
trigger1 = time >= 18
value = 2601
ctrl = 1
;===================================================================================
;Big Ball-Lanzamiento
[Statedef 2601]
type   = A
movetype= A
physics = N
juggle = 4
ctrl = 0
poweradd= 0
anim = 2601
facep2 = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = S3,13+random%8
channel = 0

[State 0, StopSnd]
type = StopSnd
trigger1 = !time
channel = 0

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 7003
ID = 7003
pos = 25,-25
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
scale = 0.7,0.7
sprpriority = 3
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = 2,9

[State 0, VelAdd]
type = VelAdd
trigger1 = time = 0
x = -0.9
y = -1.5

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = !time
id = 7001

[State 0, VelSet]
type = VelSet
trigger1 = animtime = 0
x = 0
y = 0

[State 1000,Helper]
type= Helper
trigger1= animelem = 1
helpertype= Normal
name= "Fire Ball"
id= 2610
pos= 25,-25
postype	= p1
facing	= 1
stateno	= 2610
keyctrl	= 0
ownpal	= 1
supermovetime= 0
sprpriority = 3
pausemovetime= 0
size.xscale = 0.35
size.yscale = 0.35

[State 0]
type = ChangeState
trigger1 = animtime= 0
value = 50
ctrl = 1
;-----------------------------------------------
;Big Ball-Projectile
[Statedef 2610]
movetype= A
anim = 2610
;velset	= 0,0
ctrl= 0
poweradd= 0
juggle= 0
facep2= 0
hitdefpersist= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority= 3

[State 0, AngleAdd]
type = AngleAdd
trigger1 = time>=0
value = 32*time

[State 0, Trans]
type = Trans
trigger1 =1
trans = add

[State 0, Pete]
type = Explod
trigger1 = random <750
anim = 7032+random%5
ID = 7032
pos = 0,0
vel = 0,0;-7+random%4,(-9+random%18)*.1
accel = 0,0
random = 10,10
removetime = -2
pausemovetime = 0
scale = .2,.2
sprpriority = -5+random%10
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0

[State 0, Explod]
type = Explod
trigger1 = numexplod(8013)<1
anim = 8013
ID = 8013
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -1
scale = 0.7,0.7
sprpriority = 4
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 1

[State 1005, Helper]
type = Helper
trigger1 = MoveContact = 1 && NumTarget
trigger1 = !(Target,HitShakeOver)
helpertype = normal
name = "Hit Spark"
ID = 8000
stateno = IfElse(MoveGuarded, 7998, 8000)
pos = ifElse(P2Dist x < 0, 0, ifElse(P2Dist x < 20, ceil(P2Dist x), 20)),0
postype = p1   ;p2,front,back,left,right
facing = 1
ownpal = 0
supermovetime = 65535
pausemovetime = 65535
ignorehitpause = 1
size.yscale = 1
size.xscale = 1
persistent = 0

[State 0]
type= AssertSpecial
trigger1= 1
flag= NoShadow
ignorehitpause = 1

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = 10.5
y = 6

[State 0, VelSet]
type = VelSet
trigger1 = movecontact
x = 4.5
y = 3

[State 0, Helper]
type = Helper
trigger1 = Movehit && NumTarget
trigger1 =(target,Movetype = H)
triggerall = NumHelper (8023) < 1
helpertype = normal
name = "P2 Body Flames"
ID = 8023
stateno = 8023
pos = 0,-57
postype = p2
facing = 1
keyctrl = 0
ownpal = 1
ignorehitpause = 1

[State 0, Explod]
type = Explod
trigger1 = pos y >= 0
anim = 2111
ID = 2111
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
scale = 0.9,0.9
sprpriority = 3
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 1
;ignorehitpause = 
persistent = 1

[State 0, Explod]
type = Explod
trigger1 = movecontact = 1 || pos y >= 0
anim = 1184
ID = 1184
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 20,20
removetime = -2
scale = 0.4,0.4
sprpriority = 3
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 1
;ignorehitpause = 
persistent = 1

[State 0, VelAdd]
type = VelAdd
trigger1 = time >= 0 && parent,var(30) != 5 && var(16) <= 6
y = -0.1

[State 0, VelAdd]
type = VelAdd
trigger1 = time >= 0 && parent,var(30) = 5 && var(16) <= 6
y = -0.15

[State 0,HitDef]
type= HitDef
trigger1= timemod = 5,1
attr	= A, SP
hitflag= MAFD
guardflag= MA
animtype= Hard
air.animtype= Back
priority= 6, Hit
damage	= 20,2
pausetime= 7,8
guard.pausetime	= 8,12
sparkno	= -1
guard.sparkno	= -1
sparkxy= 0,0
hitsound= S2,10
guardsound= S2,10
ground.type= High
air.type= Low
ground.velocity	= -2
guard.velocity= -1.5
ground.slidetime= 15
ground.hittime	= 115
air.hittime= 115
air.velocity= -2.5,1
airguard.velocity= -2,0.7
ground.cornerpush.veloff = 0
id= 1180
fall = 0
air.fall = 1
fall.recover = 0
getpower = 0,0
givepower = 12,12
palfx.time	= 115
palfx.mul	= 250,224,120
palfx.add	= 240,50,0
palfx.sinadd  = 110,55,85,10
envshake.time  = 12
envshake.freq  = 100
envshake.ampl  = -3
;ignorehitpause = 0
;persistent = 1
;fall.envshake
;fall.envshake.freq = 
;fall.envshake.ampl = 
;fall.envshake.phase =
;ignorehitpause = 
;persistent = 
;kill = 1
;guard.kill = 1
;fall.kill = 1
;numhits = 1

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = pos y >= 0
id = 8013

[State 0, ChangeState]
type = ChangeState
trigger1 = movecontact; && (var(16) < parent, var(30))
value =2610
ctrl = 0

[State 0]
type = destroyself
trigger1 = pos y >= 0
;===================================================================================
;PhotonBomber-Fire1
[Statedef 2701]
type   = A
movetype= A
physics = N
juggle = 4
ctrl = 0
poweradd= -150
anim = 2701

[State 0, VarSet]
type = VarSet
trigger1 = animelem = 2
v = 36
value = 0

[State 0, Explod]
type = Explod
trigger1 = animelem = 2
anim = 2061
ID = 2061
pos = 15,-10
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
scale = 0.4,0.4
sprpriority = 3
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = s2,6

[State 0, set]
type = velset
trigger1 = animelem = 2 
x = -0.3
y = -0.5

[State 0, VelAdd]
type = velmul
trigger1 = animelem = 1
x = 0.3
y = 0.3

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = !time
id = 2720

[State 1000,Helper]
type= Helper
trigger1= animelem =2 
helpertype= Normal
name= "Fire Ball"
id= 2710
pos= 15,-10
postype	= p1
facing	= 1
stateno	= 2710
keyctrl	= 0
ownpal	= 1
supermovetime= 0
pausemovetime= 0
size.xscale = 0.3
size.yscale = 0.3

[State 0]
type = ChangeState
triggerall = time > 8 && power >= 150
trigger1 = command = "PhotonBomber"
value = 2702
ctrl = 0

[State 0]
type = ChangeState
trigger1 = animtime = 0
value = 50
ctrl = 1
;===================================================================================
;PhotonBomber-Fire2
[Statedef 2702]
type   = A
movetype= A
physics = N
juggle = 4
ctrl = 0
poweradd= -150
anim = ifelse(var(36)%2=0,2702,2701)
facep2 = 1

[State 0, VarSet]
type = VarAdd
trigger1 = animelem =2
v = 36
value = 1

[State 0, Explod]
type = Explod
trigger1 = animelem = 2
anim = 2061
ID = 2061
pos = -15*(ifelse(var(36)%2=0,-1,1)),-10
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
scale = 0.4,0.4
sprpriority = 3
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = s2,6

[State 0, set]
type = velset
trigger1 = animelem = 2
x = 0.3
y = -0.5

[State 0, VelAdd]
type = velmul
trigger1 = animelem = 1
x = 0.3
y = 0.3

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = !time
id = 2720

[State 1000,Helper]
type= Helper
trigger1= animelem =2
helpertype= Normal
name= "Fire Ball"
id= 2710
pos= -15*(ifelse(var(36)%2=0,-1,1)),-10
postype	= p1
facing	= 1
stateno	= 2710
keyctrl	= 0
ownpal	= 1
supermovetime= 0
pausemovetime= 0
size.xscale = 0.3
size.yscale = 0.3

[State 0]
type = ChangeState
triggerall =  command = "PhotonBomber"
triggerall = power >=150
triggerall = var(36) <3
trigger1 = time > 8
value =  2702
ctrl = 0

[State 0]
type = ChangeState
trigger1 = animtime = 0
value = 50
ctrl = 0
;-----------------------
;PhotonBomber-Helper
[Statedef 2710]
type = A
movetype = A
physics	= N
anim = 2010
;velset	 = 0,0
JUGGLE = 2
ctrl = 0
sprpriority = 3

[State 1005, Helper]
type = Helper
trigger1 = MoveContact = 1 && NumTarget
trigger1 = !(Target,HitShakeOver)
helpertype = normal
name = "Hit Spark"
ID = 8000
stateno = IfElse(MoveGuarded, 7998, 8000)
pos = ifElse(P2Dist x < 0, 0, ifElse(P2Dist x < 0, ceil(P2Dist x), 0)),0
postype = p1   ;p2,front,back,left,right
facing = 1
ownpal = 1
supermovetime = 65535
pausemovetime = 65535
ignorehitpause = 1
size.yscale = 1
size.xscale = 1
persistent = 0

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = -90

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add

[State 0, VarRandom]
type = VarRandom
trigger1 = !time
v = 43
range = -2,2

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = ifelse((p2dist x = [-10,10]),0,ifelse(p2dist x >10,2,-2))
y = 13

[State 0, Explod]
type = Explod
trigger1 = random > 200
anim = 2022
ID = 2022
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = vel x*.05,vel y*.1
random = 4,10;0,0
removetime = -2
scale = .04,.04
sprpriority = ifelse(random > 500,4,-4)
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 0,HitDef]
type= HitDef
trigger1= time = 0
attr = S, SP
hitflag= MAFD
guardflag= M
animtype= Hard
air.animtype= Back
priority= 5, Hit
damage	= 30,3
pausetime= 0,8
sparkno	= -1;s7014+random%4
guard.sparkno	= S7006
sparkxy= -10,0
hitsound= S2,4
guardsound= S2,4
ground.type= low
air.type= Low
ground.velocity	= ifelse(random>500,0.3,-0.3)
guard.velocity= 0
ground.slidetime= 15
ground.hittime	= 15
air.hittime= 15
air.velocity= ifelse(random>500,0.3,-0.3),2;ifelse(parent,var(33)=1,0.8,-0.8),1
airguard.velocity= ifelse(random>500,0.3,-0.3),1
ground.cornerpush.veloff = 0
fall =0
air.fall = 1
fall.recover = 0
;id= 210
;getpower = 0,0
;givepower = 0,0
palfx.time = 35
palfx.add = 100,100,0
palfx.sinadd = -100,-100,-0, 120
;envshake.time  = 15
;envshake.freq  = 125
;envshake.ampl  = -5
;fall.envshake
;fall.envshake.freq = 
;fall.envshake.ampl = 
;fall.envshake.phase =
;ignorehitpause = 
;persistent = 
;kill = 1
;guard.kill = 1
;fall.kill = 1
;numhits = 1

[State 0, DestroySelf]
type = changestate
trigger1 = pos y >= 0 || movecontact
value = 2011
ctrl = 0
;===============================================================================
;Garlick-Cannon
[Statedef 2800]
type   = A
movetype= A
physics = N
juggle = 0
ctrl = 0
poweradd= -400
anim = 2800

[State 0, PlayerPush]
type = PlayerPush
triggerall = numhelper(2810)>0
trigger1 = helper(2810),movecontact
value = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S3,2
channel = 0

[State 0, VelSet]
type = Velmul
trigger1 = AnimElem = 2
x = .15

[State 0, VelMul]
type = VelMul
trigger1 = time = 0
y = .15

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = animelem = 3,>=0
statetype = A       ;S,A,C,L
movetype = I        ;I,A,H
physics = A

[State 1000,Helper]
type= Helper
trigger1= AnimElem = 2
helpertype= Normal
name= "Black-Hole"
id= 2810
pos= 30,-30
postype = p1
facing = 1
stateno = 2810
keyctrl = 0
ownpal = 1
SprPriority = 4

[State 0]
type = ChangeState
trigger1 = ANIMTIME = 0
value = 50
ctrl = 0

[State 0, VelSet]
type = VelSet
trigger1= vel y > 0
trigger1= pos y > -vel y
y = 0

[State 0]
type = ChangeState
triggerall = animelem =3,>=0
trigger1= vel y > 0
trigger1= pos y > -vel y
value = 52
ctrl = 1

;------------------------------------------------------------------------------
;GarlickCannonHelper
[Statedef 2810]
movetype = A
anim = 2810
ctrl = 0
poweradd = 0
juggle = 0
facep2 = 0
hitdefpersist = 0
movehitpersist = 0
hitcountpersist = 0
sprpriority = 4

[State 0, Trans]
type = Trans
trigger1 = time<16
trans = addalpha
alpha = 256,256

[State 0, Trans]
type = Trans
trigger1 = time>=16
trans = addalpha
alpha = 256-(16*(time-16)),256

[State 0, AngleAdd]
type = AngleAdd
trigger1 = 1
value = 26

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = .02+(0.01*time),.02+(0.01*time)

[State 0, SprPriority]
type = SprPriority
trigger1 = 1
value = 4
ignorehitpause = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
trigger2 = time = 16
value = S2,14

[State 0, BindToParent]
type = BindToParent
trigger1 = 1
time = 1
pos= 30,-30

[State 0, Explod]
type = Explod
trigger1 = time =0
anim = 2820
ID = 2820
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
scale = .5,.5
sprpriority = 3
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0

[State 1272]
type = NotHitBy
trigger1 = 1
value = SCA

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 1005, Helper]
type = Helper
trigger1 = MoveContact = 1 && NumTarget
trigger1 = !(Target,HitShakeOver)
helpertype = normal
name = "Hit Spark"
ID = 8000
stateno = IfElse(MoveGuarded, 7998, 8000)
pos = ceil(P2Dist x),0
postype = p1   ;p2,front,back,left,right
facing = 1
ownpal = 1
supermovetime = 65535
pausemovetime = 65535
ignorehitpause = 1
size.yscale = 1
size.xscale = 1
;persistent = 0

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 47
value = 1
ignorehitpause = 1

[State 0, VarAdd]
type = VarAdd
trigger1 = movecontact && numtarget
v = 47
value = 1
ignorehitpause = 1

[State 1272]
type = HitDef
trigger1 = var(47)<4
attr = A, SP
hitflag = MAF
guardflag =  MA
animtype = medium
air.animtype = medium
priority = 4,Hit
damage = 30,4
pausetime = 0,6
sparkno = -1;s8028
sparkxy = -15,0
guard.sparkno = -1;s8028
hitsound = s1,2;var(47)
guardsound = S1,6
ground.type = High
ground.slidetime = 15
ground.hittime = 30
ground.velocity = -8,-6
ground.cornerpush.veloff = 0
air.animtype = back
air.velocity = -8,-6
fall = 1
air.fall = 1
fall.recover = 0
envshake.time  = 20
envshake.freq  = 100
envshake.ampl  = -4
getpower = 0,0
givepower = 40,40
id = 2810
palfx.time = 30
palfx.add = 100,100,0
palfx.sinadd = -100,-100,-0, 120

[State 0, Explod]
type = Explod
trigger1 = numtarget(3410)
anim = 2011
ID = 2011
pos = ceil(p2dist x -15),0
postype = p1  ;p2,front,back,left,right
facing = -1
vfacing = 1
bindtime = 1
scale = .3,.3
sprpriority = 5
ownpal = 1
persistent = 0
ignorehitpause = 1

[State 0]
type = destroyself
trigger1 = animtime = 0
